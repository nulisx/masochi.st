import{d as p,c as i,k as c,a as s,t as a,b as m,f as d,v as n,F as y,o as l}from"./index-CRQdNere.js";import{p as u,a as h,g as b}from"./reseller-DZkdzc5d.js";const g={key:0},f={class:"flex flex-col w-full"},x={class:"flex justify-center h-full"},w={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},v={class:"flex flex-row items-center justify-evenly h-18 mt-8 py-4 bg-backgroundPrimary px-4"},k={class:"flex gap-x-2 items-center gap-y-2"},C={data(){return{error:"",credits:[],history:[],form:{quantity:1,nid:""}}},methods:{async getCreditCount(){try{const r=await b();if(r.error){this.error=r.error;return}this.credits=r.credits}catch(r){this.error=r.message}},async getHistory(){try{const r=await h();if(r.error){this.error=r.error;return}this.history=r}catch(r){this.error=r.message}},async giveMembership(){const r=Number(this.form.quantity),t=Number(this.form.nid);try{const e=await u(t,r);if(e.error){this.error=e.error;return}e.message&&(this.error=e.message)}catch(e){this.error=e.error}}},mounted(){this.getCreditCount(),this.getHistory()}},_=p({...C,__name:"ResellerView",setup(r){return(t,e)=>(l(),i(y,null,[t.error?(l(),i("div",g,[s("p",null,a(t.error),1)])):c("",!0),s("div",f,[s("div",x,[s("div",w,[s("div",v,[s("div",k,[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.form.quantity=o),class:"rounded-sm border-t-0 border-x-0 border-b border-primary bg-backgroundSecondary px-2 py-1 focus:outline-none",placeholder:"amount",type:"text"},null,512),[[n,t.form.quantity]]),d(s("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>t.form.nid=o),class:"rounded-sm border-t-0 border-x-0 border-b border-primary bg-backgroundSecondary px-2 py-1 focus:outline-none",placeholder:"nid",type:"text"},null,512),[[n,t.form.nid]])]),s("button",{class:"bg-primary px-2 py-1 ml-2 rounded-sm",onClick:e[2]||(e[2]=(...o)=>t.giveMembership&&t.giveMembership(...o))},"Give membership")]),e[3]||(e[3]=m('<table class="w-full text-sm text-left text-gray-500 dark:text-gray-400"><thead class="text-xs text-gray-700 uppercase bg-backgroundSecondary"><tr><th class="px-6 py-3" scope="col">NID</th><th class="px-6 py-3" scope="col">Amount</th><th class="px-6 py-3" scope="col">Date</th></tr></thead><tbody><tr class="bg-white border-b border-b-primary bg-backgroundPrimary"><th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white" scope="row">82</th><td class="px-6 py-4">3</td><td class="px-6 py-4">25/11/2023</td></tr><tr class="bg-white border-b border-b-primary bg-backgroundPrimary"><th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white" scope="row">25</th><td class="px-6 py-4">1</td><td class="px-6 py-4">25/11/2023</td></tr><tr class="bg-white border-b border-b-primary bg-backgroundPrimary"><th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white" scope="row">72</th><td class="px-6 py-4">8</td><td class="px-6 py-4">25/11/2023</td></tr></tbody></table>',1)),s("h2",null,"Credits remaining: "+a(t.credits),1),s("h2",null,a(t.history),1)])])])],64))}});export{_ as default};
