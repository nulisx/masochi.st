import{d as h,c as n,a as e,k as c,b as y,f as p,v as m,g as l,t as o,F as u,j as f,y as b,z as w,A as v,B as z,o as a}from"./index-CRQdNere.js";import{g as A}from"./reseller-DZkdzc5d.js";const $={class:"pt-6 md:pl-[1.9rem] pb-[1.9rem] pl-[0.4rem]"},q={class:"mx-auto grid grid-cols-1 [@media(min-width:1684px)]:grid-cols-[360px_1fr] gap-8 w-full max-w-[1800px] px-6"},C={class:"w-full"},O={class:"p-6 rounded-xl bg-zinc-900/50 border border-zinc-800/50 h-full flex flex-col justify-between"},k={key:0,class:"mt-8 border-t border-zinc-800 pt-6"},T={class:"space-y-2 text-sm text-zinc-400 mb-6"},B={class:"flex items-center gap-2"},N={class:"p-6 rounded-xl bg-zinc-900/50 border border-zinc-800/50 overflow-hidden"},M={class:"rounded-lg overflow-hidden border border-zinc-800"},E={class:"w-full text-sm text-zinc-300"},P={class:"divide-y divide-zinc-800"},U={class:"px-4 py-3"},V=["title"],D={class:"px-4 py-3"},S={class:"px-4 py-3"},F={class:"px-4 py-3"},j=["title"],L={class:"px-4 py-3"},R={class:"px-4 py-3"},G={key:0,class:"text-center py-10 text-zinc-500"},Q={data(){return{error:"",form:{monthquantity:1,creditquantity:3},orders:[],paidorders:[],notificationActive:!1,notificationTitle:"",notificationMessage:"",reseller:!1,splitButtons:"",view:"access"}},methods:{toggleView(i){this.view=i},setButtonsSwitch(i){switch(i){case"1":this.splitButtons="1";break;case"2":this.splitButtons="2";break;default:this.splitButtons=null}},async getCreditCount(){try{const i=await A();if(i.error){this.error=i.error;return}this.reseller=!0}catch(i){this.error=i.message}},async postOrderMembership(){const i=Number(this.form.monthquantity);try{const s=await z(i);if(s.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${s.error}`,type:"error"});return}this.getUsersOrders(),this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:`Created a membership order for ${i} month(s)`,type:"success"})}catch(s){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${s.error}`,type:"error"})}},async postOrderCredits(){const i=Number(this.form.creditquantity);try{if(i<3){this.notificationActive=!0,this.notificationTitle="Operation failed",this.notificationMessage="Please select a quantity higher than 3 for Reseller Credits";return}const s=await v(i);if(s.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${s.error}`,type:"error"});return}this.getUsersOrders()}catch(s){this.notificationActive=!0,this.notificationTitle="Operation failed",this.notificationMessage=`Catch: ${s.error}`}},async getUsersPaidOrders(){try{const i=await w();if(i.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${i.error}`,type:"error"});return}this.paidorders=i.orders.map(s=>({id:s.id,orderType:s.type,quantity:s.quantity,price:s.price/1e8,receiveAddress:s.receiveAddress,expiresAt:s.expiresAt,createdAt:s.createdAt,confirmations:s.confirmations,orderstatus:s.confirmations===0?"Confirming payment":"Completed payment"}))}catch{}},async getUsersOrders(){try{const i=await b();if(i.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${i.error}`,type:"error"});return}const s=new Date().getTime();this.orders=i.orders.map(t=>{const d=new Date(t.expiresAt).getTime()-s,x=Math.floor(d%(1e3*60*60)/(1e3*60)),g=Math.floor(d%(1e3*60)/1e3);return{id:t.id,orderType:t.type,quantity:t.quantity,price:t.price/1e8,receiveAddress:t.receiveAddress,expiresAt:`${x} mins ${g} secs`}})}catch(i){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:`${i.message}`,type:"error"});return}}},mounted(){this.getUsersOrders(),this.getUsersPaidOrders(),this.getCreditCount()}},Y=h({...Q,__name:"OrderView",setup(i){return(s,t)=>(a(),n("div",$,[t[18]||(t[18]=e("div",{class:"d-flex justify-content-between align-items-center flex-wrap grid-margin mb-6"},[e("h4",{class:"mb-4 mb-md-0 col-12 col-md-auto text-textPrimary"}," Dashboard / Purchase Portal ")],-1)),e("div",q,[e("div",C,[e("div",O,[e("div",null,[t[4]||(t[4]=y('<h2 class="text-lg font-semibold text-white mb-4">VIP Upgrade</h2><p class="text-3xl font-extrabold text-white">$7.49</p><p class="text-sm text-zinc-500 mb-4">per month</p><ul class="space-y-2 text-sm text-zinc-400 mb-6"><li class="flex items-center gap-2"><i class="fa fa-arrow-right text-indigo-500"></i> File Host + 5GB File Storage </li><li class="flex items-center gap-2"><i class="fa fa-arrow-right text-indigo-500"></i> Lifetime @alo.ne Email Address </li><li class="flex items-center gap-2"><i class="fa fa-arrow-right text-indigo-500"></i> 5 Email Addresses per Domain </li></ul><label class="block text-sm font-medium text-zinc-300 mb-1"> Months to purchase </label>',5)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s.form.monthquantity=r),type:"number",placeholder:"Months",class:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2 text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[m,s.form.monthquantity]])]),e("button",{onClick:t[1]||(t[1]=r=>s.postOrderMembership(s.form.monthquantity)),class:"w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium mt-6 transition-colors"}," Buy "),s.reseller?(a(),n("div",k,[t[7]||(t[7]=e("h2",{class:"text-lg font-semibold text-white mb-4"},"Reseller Token",-1)),t[8]||(t[8]=e("p",{class:"text-3xl font-extrabold text-white"},"$4.19",-1)),t[9]||(t[9]=e("p",{class:"text-sm text-zinc-500 mb-4"},"per token",-1)),e("ul",T,[e("li",B,[t[5]||(t[5]=e("i",{class:"fa fa-arrow-right text-indigo-500"},null,-1)),l(" Grants "+o(s.form.creditquantity)+" credits ",1)]),t[6]||(t[6]=e("li",{class:"flex items-center gap-2"},[e("i",{class:"fa fa-arrow-right text-indigo-500"}),l(" 78% resale profit ")],-1))]),t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-zinc-300 mb-1"}," Amount of credits ",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s.form.creditquantity=r),type:"number",placeholder:"Quantity",class:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2 text-white placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[m,s.form.creditquantity]]),e("button",{onClick:t[3]||(t[3]=r=>s.postOrderCredits(s.form.creditquantity)),class:"w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium mt-6 transition-colors"}," Buy ")])):c("",!0)])]),e("div",N,[t[17]||(t[17]=e("h2",{class:"text-lg font-semibold text-white mb-4"},"Your Orders",-1)),e("div",M,[e("table",E,[t[15]||(t[15]=e("thead",{class:"bg-zinc-800/50 text-zinc-400 uppercase text-xs"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left"},"Quantity"),e("th",{class:"px-4 py-3 text-left"},"Address"),e("th",{class:"px-4 py-3 text-left"},"Price"),e("th",{class:"px-4 py-3 text-left"},"Status"),e("th",{class:"px-4 py-3 text-left"},"Time Left")])],-1)),e("tbody",P,[(a(!0),n(u,null,f(s.paidorders,r=>(a(),n("tr",{key:r.id,class:"hover:bg-zinc-800/40 transition-colors"},[e("td",U,o(r.quantity),1),e("td",{class:"px-4 py-3 truncate max-w-[16rem]",title:r.receiveAddress},o(r.receiveAddress),9,V),e("td",D,[l(o(r.price)+" ",1),t[11]||(t[11]=e("span",{class:"text-zinc-500"},"BTC",-1))]),e("td",S,o(r.orderstatus),1),t[12]||(t[12]=e("td",{class:"px-4 py-3"},"0 mins 0 seconds",-1))]))),128)),(a(!0),n(u,null,f(s.orders,r=>(a(),n("tr",{key:r.id,class:"hover:bg-zinc-800/40 transition-colors"},[e("td",F,o(r.quantity),1),e("td",{class:"px-4 py-3 truncate max-w-[16rem]",title:r.receiveAddress},o(r.receiveAddress),9,j),e("td",L,[l(o(r.price)+" ",1),t[13]||(t[13]=e("span",{class:"text-zinc-500"},"BTC",-1))]),t[14]||(t[14]=e("td",{class:"px-4 py-3 text-yellow-500"},"Awaiting payment",-1)),e("td",R,o(r.expiresAt),1)]))),128))])]),!s.orders.length&&!s.paidorders.length?(a(),n("div",G,[...t[16]||(t[16]=[e("i",{class:"fa fa-box-open text-zinc-700 text-2xl mb-2"},null,-1),e("p",null,"No orders yet",-1)])])):c("",!0)])])])]))}});export{Y as default};
