import{d as we,q as be,c as F,f as b,Q as xe,a as l,g as D,h as Ae,k as Se,v as L,t as _e,a7 as Fe,a8 as ke,r as le,o as k,_ as Ce}from"./index-CRQdNere.js";function j(e){let t,n;return{promise:new Promise((i,o)=>{t=i,n=o}),resolve:t,reject:n}}function V(e,t){return e.lastIndexOf(t,0)===0}var De=/^((?:\w+:)?\/\/([^\/]+))/;function he(e){let t=[];const n=Object.keys(e),r=encodeURIComponent;for(let i=0;i<n.length;i++)t.push(`${r(n[i])}=${r(e[n[i]])}`);return t.join("&")}function z(e){const t=document.location;if(V(e,"/")||V(e,"."))return t.origin?t.origin:t.protocol+"//"+t.host;const n=e.match(De);if(!n)throw new Error("Invalid URL: "+e);return n[1]}var Re=class{constructor(e){this.ready=!1,this.buffer=[],this.id=e.id,this.type=e.type,this.element=e.element,this.onReady=e.onReady,this.origin=z(e.element.src)}send(e){this.ready?this.element.contentWindow.postMessage(e,this.origin):this.buffer.push(e)}setReady(e){this.onReady(),this.ready=e,this.ready&&this.flush()}flush(){for(let e=0;e<this.buffer.length;e++)this.element.contentWindow.postMessage(this.buffer[e],this.origin);this.buffer=[]}};function Te(e,t){return e==="*"||t.has(e)}var Me=class{constructor(){this.origins=new Set,this.targets={},this.answered=new Set,this.onReceiveRootMessage=()=>{},window.addEventListener("message",e=>{this.onReceive(e)})}listen(e){let t=this.onReceiveRootMessage;this.onReceiveRootMessage=n=>{t(n),e(n)}}addOrigin(e){this.origins.add(e)}send(e){if(e.from_id){const r=this.targets[e.from_id];if(!r){console.error(`[bus] Unexpected message from unknown sender ${e.from_id}`,e);return}(e.type==="widget_announce"||e.type==="agent_announce")&&r.setReady(!0)}const t=e.rid;if(t){if(this.answered.has(t+e.to_id))return;this.answered.add(t+e.to_id)}if(e.to_id===""){this.onReceiveRootMessage(e);return}const n=this.targets[e.to_id];if(!n){console.error(`[bus] Unexpected message to unknown target ${e.to_id}`,e);return}n.send(e)}onReceive(e){if(!Te(e.origin,this.origins))return;const t=e.data;!t||!t._frc||this.send(t)}registerTarget(e){this.targets[e.id]=e}registerTargetIFrame(e,t,n,r){const i=j();let o=new Promise(a=>setTimeout(()=>a("timeout"),r));const s=new Re({id:t,element:n,type:e,onReady:()=>i.resolve("registered")});return this.registerTarget(s),Promise.race([i.promise,o])}removeTarget(e){delete this.targets[e]}};function P(e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"){let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function X(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function fe(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=X(n);return(i,o)=>r.then(s=>o(s.transaction(t,i).objectStore(t)))}var N;function ge(){return N||(N=fe("keyval-store","keyval")),N}function ze(e,t=ge()){return t("readonly",n=>X(n.get(e)))}function Pe(e,t,n=ge()){return n("readwrite",r=>(r.put(t,e),X(r.transaction)))}var ee="frc_sc",te="frc_sid",ne="__",B="0",Ie="__"+P(10);function $(e){{let t=0;try{t=parseInt(sessionStorage.getItem(ee)||"",10)}catch{}isNaN(t)&&(t=0),e&&t++,B=t.toString();try{sessionStorage.setItem(ee,B)}catch{}}return B}function q(){let e;try{e=sessionStorage.getItem(te)}catch{return Ie}return e||(e=P(12),sessionStorage.setItem(te,e)),e}var Oe=class{constructor(e){this.mem=new Map,this.storePrefix=e}setup(){return new Promise((e,t)=>{if(this._hasSA!==void 0)return e(this._hasSA);try{indexedDB.open("")}catch{return e(this._hasSA=!1)}if(!document.hasStorageAccess)return e(this._hasSA=!0);document.hasStorageAccess().then(n=>(this._hasSA=n,this._hasSA?this.idb=fe("friendlycaptcha","frc"):console.debug("FRC has no storage access"),e(this._hasSA))).catch(t)})}get(e,t){return this.setup().then(n=>{const r=this.storePrefix+ne+e;if(t.p)return n?ze(r,this.idb):this.mem.get(e);try{const i=sessionStorage.getItem(r);return i===null?void 0:i}catch{}return this.mem.get(e)})}set(e,t,n){return this.setup().then(r=>{const i=this.storePrefix+ne+e;if(n.p){if(r)return Pe(i,t,this.idb);t===void 0?this.mem.delete(e):this.mem.set(e,t)}else try{t===void 0?(this.mem.delete(e),sessionStorage.removeItem(i)):(this.mem.set(e,t),sessionStorage.setItem(i,t))}catch{}})}hasSA(){return this._hasSA}},Le=typeof navigator<"u"&&navigator.userAgentData!==void 0;function Ne(){return document.querySelectorAll(".frc-captcha")}function Be(e){for(;e.tagName!=="FORM";)if(e=e.parentElement,!e)return null;return e}function We(e,t){e.addEventListener("focusin",t,{once:!0,passive:!0})}function je(e,t,n){e.style[t]===""&&(e.style[t]=n)}function Ve(e){const t=je;t(e,"position","relative"),t(e,"height","70px"),t(e,"padding","0"),t(e,"width","316px"),t(e,"maxWidth","100%"),t(e,"maxHeight","100%"),t(e,"overflow","hidden"),t(e,"borderRadius","4px")}function Ue(e){e.removeAttribute("style")}function U(e){document.readyState!=="loading"?e():document.addEventListener("DOMContentLoaded",e)}function He(e,t){let n;typeof window.CustomEvent=="function"?n=new CustomEvent(t.name,{bubbles:!0,detail:t}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t.name,!0,!1,t)),e.dispatchEvent(n)}function Ye(e){for(;!e.lang||typeof e.lang!="string";)if(e=e.parentElement,!e)return null;return e.lang}var I={ar:{title:"التحقق من مكافحة الروبوتات",connecting:"التحقق من مكافحة الروبوتات قيد الاتصال…",retrying:`استغرق الاتصال بالتحقق من مكافحة الروبوتات وقتًا طويلاً.

إعادة المحاولة…`,failed:"فشل الاتصال بالتحقق من مكافحة الروبوتات."},cs:{title:"Ověření proti robotům",connecting:"Připojování kontroly proti robotům…",retrying:`Připojení kontroly proti robotům trvalo příliš dlouho.

Opakuji pokus…`,failed:"Kontrola proti robotům se nepodařilo připojit."},da:{title:"Anti-robot-verifikation",connecting:"Anti-robot-kontrol forbinder…",retrying:`Anti-robot-kontrol tog for lang tid at oprette forbindelse.

Prøver igen…`,failed:"Anti-robot-kontrol kunne ikke oprette forbindelse."},nl:{title:"Anti-robotcheck",connecting:"Verbinden met Anti-robotcheck…",retrying:`Verbinden met Anti-robotcheck mislukt.

Opnieuw aan het proberen…`,failed:"Verbinden met Anti-robotcheck mislukt."},en:{title:"Anti-Robot verification",connecting:"Anti-Robot check connecting…",retrying:`Anti-Robot check took too long to connect.

Retrying…`,failed:"Anti-Robot check failed to connect."},fi:{title:"Robottien torjunnan vahvistus",connecting:"Robottien torjunnan tarkistus käynnissä…",retrying:`Robottien torjunnan tarkistus kesti liian kauan.

Yritetään uudelleen…`,failed:"Robottien torjunnan tarkistus epäonnistui."},fr:{title:"Vérification anti-robot",connecting:"Connexion à la vérification anti-robot…",retrying:`La connexion à la vérification anti-robot a pris trop de temps.

Nouvelle tentative…`,failed:"Échec de la connexion à la vérification anti-robot."},de:{title:"Anti-Roboter-Verifizierung",connecting:"Verbindung zur Anti-Roboter-Verifizierung wird hergestellt…",retrying:`Verbindung zur Anti-Roboter-Verifizierung hat zu lange gedauert.

Erneuter Versuch…`,failed:"Verbindung zur Anti-Roboter-Verifizierung ist fehlgeschlagen."},hu:{title:"Robotellenőrzés",connecting:"Robotellenőrzés csatlakozás…",retrying:`A robotellenőrzés túl sokáig tartott a csatlakozáshoz.

Újrapróbálom…`,failed:"A robotellenőrzés nem tudott csatlakozni."},id:{title:"Verifikasi Anti-Robot",connecting:"Pemeriksaan Anti-Robot sedang terhubung…",retrying:`Pemeriksaan Anti-Robot memakan waktu terlalu lama untuk terhubung.

Mencoba lagi…`,failed:"Pemeriksaan Anti-Robot gagal terhubung."},it:{title:"Verifica anti-robot",connecting:"Connessione verifica anti-robot in corso…",retrying:`La connessione alla verifica anti-robot ha richiesto troppo tempo.

Riprovando…`,failed:"Impossibile connettersi alla verifica anti-robot."},pl:{title:"Weryfikacja antyrobotowa",connecting:"Łączenie się z kontrolą antyrobotową…",retrying:`Łączenie się z kontrolą antyrobotową trwało zbyt długo. 

Ponowna próba…`,failed:"Nie udało się połączyć z kontrolą antyrobotową."},pt:{title:"Verificação anti-robô",connecting:"Verificação anti-robô a ligar…",retrying:`A verificação anti-robô demorou demasiado tempo a ligar-se.

A tentar novamente…`,failed:"A verificação anti-robô não conseguiu ligar-se."},ru:{title:"Проверка антиробота",connecting:"Подключение к проверке антиробота…",retrying:`Подключение к проверке антиробота заняло слишком много времени.

Повторяем попытку…`,failed:"Не удалось подключиться к проверке антиробота."},sk:{title:"Overovanie proti robotom",connecting:"Pripojenie kontroly proti robotom…",retrying:`Pripojenie kontroly proti robotom trvalo príliš dlho.

Opakujem pokus…`,failed:"Pripojenie kontroly proti robotom sa nepodarilo."},es:{title:"Verificación antirrobot",connecting:"Conectando verificación antirrobot…",retrying:`La verificación antirrobot tardó demasiado en conectarse.

Reintentando…`,failed:"Error al conectar la verificación antirrobot."},sv:{title:"Anti-robotverifiering",connecting:"Anti-robotverifiering ansluter…",retrying:`Anti-robotverifiering tog för lång tid att ansluta.

Försöker igen…`,failed:"Anti-robotverifiering kunde inte ansluta."},tr:{title:"Robot önleme doğrulaması",connecting:"Robot önleme kontrolü bağlanıyor…",retrying:`Robot önleme kontrolü bağlanmak için çok uzun sürdü.

Yeniden deniyor…`,failed:"Robot önleme kontrolü bağlanamadı."},vi:{title:"Xác minh chống robot",connecting:"Kiểm tra robot đang kết nối…",retrying:`Kiểm tra chống robot mất quá nhiều thời gian để kết nối.

Đang thử lại…`,failed:"Kiểm tra chống robot không thể kết nối."},zh:{title:"反机器人验证",connecting:"反机器人验证正在连接…",retrying:`反机器人验证连接耗时过长。

正在重试…`,failed:"反机器人验证连接失败。"}},Xe=["ar","he","fa","ur","ps","sd","yi"];function K(e){return e.toLowerCase().split("-")[0].split("_")[0]}function H(e){return e=K(e),Xe.indexOf(e)!==-1}function me(e){return e=K(e),(I[e]||I.en).title+" - Widget"}function Y(e,t){return e=K(e),(I[e]||I.en)[t]}var pe="FrcFrameId",ye="frc-i-agent",$e="frc-i-widget",qe="frc-widget-placeholder";function Ke(e,t,n){const r={origin:document.location.origin,sess_id:q(),sess_c:$(!0),comm_id:t,sdk_v:"0.1.32",v:"1",agent_id:t,ts:Date.now().toString()},i=document.createElement("iframe");i.className=ye,i.dataset[pe]=t,i.src=n+"?"+he(r),i.frcSDK=e;const o=i.style;return o.width=o.height=o.border=o.visibility="0",o.display="none",i}function Ge(e,t,n,r){const i=document.createElement("iframe"),o=Z(r),s={origin:document.location.origin,sess_id:q(),sess_c:$(!0),comm_id:t,sdk_v:"0.1.32",v:"1",agent_id:e,lang:o,sitekey:r.sitekey||"",ts:Date.now().toString()};r.theme&&(s.theme=r.theme),Le&&(i.allow="clipboard-write"),i.frameBorder="0",i.src=n+"?"+he(s),i.className=$e,i.title=me(o),i.dataset[pe]=t;const a=i.style;return a.border=a.visibility="0",a.position="absolute",a.height=a.width="100%",a.display="none",r.element.appendChild(i),i}function Ze(e){const t=document.createElement("div");t.classList.add(qe);const n=t.style,r=e.theme==="dark"||e.theme==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return n.color=r?"#fff":"#222",n.backgroundColor=r?"#171717":"#fafafa",n.borderRadius="4px",n.border="1px solid",n.borderColor="#ddd",n.padding="8px",n.height=n.width="100%",n.fontSize="14px",G(n),e.element.appendChild(t),t}function G(e){e.textDecoration=e.fontStyle="none",e.fontWeight="500",e.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',e.lineHeight="1",e.letterSpacing="-0.0125rem"}function Je(e){const t=document.createElement("div");t.classList.add("frc-banner");const n=Z(e),r=t.style;r.position="absolute",r.bottom="2px",H(n)?r.left="6px":r.right="6px",r.lineHeight="1";const i=document.createElement("a");i.href="https://friendlycaptcha.com",i.rel="noopener";const o=i.style;G(o),o.fontSize="10px",e.theme==="dark"||e.theme==="auto"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?o.color="#a2a2a2":o.color="#565656",o.letterSpacing="-0.0125rem",i.target="_blank",i.textContent="Friendly Captcha",i.onmouseenter=()=>o.textDecoration="underline",i.onmouseleave=()=>o.textDecoration="none",t.appendChild(i),e.element.appendChild(t)}function Z(e){let t=e.language;return(!t||t==="html")&&(t=Ye(e.element)||""),t}function Qe(e,t,n){const r=(s,a)=>{const h=document.createElement("a");h.href=s,h.target="_blank",h.rel="noopener",h.textContent=a;const u=h.style;return G(u),u.textDecoration="underline",u.color="#565656",h.onmouseenter=()=>u.textDecoration="none",h.onmouseleave=()=>u.textDecoration="underline",h},i=Y(n,"failed"),o=[r(`${t}/connectionTest`,i)];e.textContent="",o.forEach(s=>e.appendChild(s))}function J(){const e=window.performance;return e?e.now():0}function et(e,t,n,r){const i=J(),o=n.getBoundingClientRect(),s={v:1,tt:e,pnow:i,sm:t,el:{bcr:[o.left,o.top,o.width,o.height],con:document.body.contains(n)},stack:new Error().stack||"",we:!!window.event,weit:!!window.event&&!!window.event.isTrusted};return r&&(s.ev={ts:r.timeStamp,rt:!!r.relatedTarget,eot:!!r.explicitOriginalTarget,it:r.isTrusted}),s}function Q(e,...t){for(let r=0;r<t.length;r++){const i=t[r];for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e}var tt="frc-captcha-response",nt=class{constructor(e){this.state="init",this.response=".UNINITIALIZED",this.focusEventPending=!1,this.isDestroyed=!1,this.id=e.id;const t=e.createOpts;if(this.e=t.element,this.ready=e.registered,!this.e)throw new Error("No element provided to mount widget under.");if(this.e.frcWidget=this,this.formFieldName=t.formFieldName===void 0?tt:t.formFieldName,this.sitekey=t.sitekey,this._reset=e.callbacks.onReset,this._destroy=e.callbacks.onDestroy,this._trigger=e.callbacks.onTrigger,this.startMode=e.createOpts.startMode||"focus",this.formFieldName!==null){const n=document.createElement("input");n.type="hidden",n.style.display="none",n.name=this.formFieldName,this.hiddenFormEl=n,this.e.appendChild(n)}this.setState({response:".UNCONNECTED",state:"init"}),this.ready.then(()=>{this.handleStartMode()})}handleStartMode(){if(this.startMode==="focus"&&!this.focusEventPending&&!this.isDestroyed){const e=Be(this.e);e&&(this.focusEventPending=!0,We(e,t=>{this.trigger("focus",{ev:t}),this.focusEventPending=!1}))}else this.startMode==="auto"&&this.trigger("auto")}reset(e={trigger:"root"}){if(this.isDestroyed)throw new Error("Can not reset destroyed widget.");this.setState({response:".RESET",state:"reset",resetTrigger:e.trigger}),this._reset(e),this.handleStartMode()}destroy(){this.isDestroyed=!0,this.hiddenFormEl&&this.hiddenFormEl.remove(),this.hiddenFormEl=void 0,this.setState({response:".DESTROYED",state:"destroyed"}),this._destroy()}trigger(e,t={}){if(this.isDestroyed)throw new Error("Can not start destroyed widget.");const n=et(e,this.startMode,this.e,t.ev);this._trigger({trigger:n})}start(){this.trigger("programmatic")}setState(e){const t=this.state!==e.state;this.response=e.response,this.state=e.state,this.hiddenFormEl&&this.e.isConnected!==!1&&(this.hiddenFormEl.value=e.response),t&&this.dispatchWidgetEvent({name:"frc:widget.statechange",error:e.error}),this.state==="expired"?this.dispatchWidgetEvent({name:"frc:widget.expire"}):this.state==="completed"?this.dispatchWidgetEvent({name:"frc:widget.complete"}):this.state==="error"?this.dispatchWidgetEvent({name:"frc:widget.error",error:e.error}):this.state==="reset"&&this.dispatchWidgetEvent({name:"frc:widget.reset",trigger:e.resetTrigger})}dispatchWidgetEvent(e){const t={response:this.response,state:this.state,id:this.id};Q(t,e),He(this.e,t)}addEventListener(e,t,n){this.e.addEventListener(e,t,n)}removeEventListener(e,t,n){this.e.removeEventListener(e,t,n)}getState(){return this.state}getResponse(){return this.response}getElement(){return this.e}},it=function(e){return typeof e=="function"},rt=function(e){const t=[],n=new Map,r=function(){return t.splice(0,t.length)},i=window,o=(function(){try{const c=document.createElement("iframe");c.style.display="none",(document.body||document.head).appendChild(c);const y=c?c.contentWindow:0;return c.remove(),y||i}catch{return i}})(),s=Function.prototype.toString,a=function(...c){const y=it(this)?n.get(this):!1,d=this===a?s:y||this;return s.apply(d,c)};Function.prototype.toString=a;const h=function(){return(o.Error||i.Error)("FriendlyCaptcha_DummyTrace").stack||""},u="prototype",m=i.EventTarget?i.EventTarget[u].dispatchEvent:{},f=[["Document."+u+".documentElement",i.Document[u],"documentElement"],["Element."+u+".shadowRoot",i.Element[u],"shadowRoot"],["Node."+u+".nodeType",i.Node[u],"nodeType"],["Object.is",i.Object,"is"],["Array."+u+".slice",i.Array[u],"slice"],["Document."+u+".querySelectorAll",i.Document[u],"querySelectorAll"],["Document."+u+".createElement",i.Document[u],"createElement"],["EventTarget."+u+".dispatchEvent",m,"dispatchEvent"]];return e.disableEvalPatching||f.push(["eval",i,"eval"]),f.forEach(function([g,c,y]){const d=Object.getOwnPropertyDescriptor(c,y),p=d&&(d.get||d.set);if(d){if(p){if(!d.get)return}else if(typeof d.value!="object"&&typeof d.value!="function")return}else return;let A=0,_=0;const C=function(...Ee){const O=Date.now();if(O-A>=1e3&&(_=0,A=O),_<50){const ve={d:O,pnow:J(),n:g,st:h()};t.length>2e4&&t.splice(0,1e3),t.push(ve),_++}return(p?d.get:d.value).apply(this,Ee)};try{const v=p?d.get?d.get():void 0:d.value();v&&(C.length=v.length,C.name=v.name)}catch{}try{const v=Q({},d);p?v.get=C:v.value=C,Object.defineProperty(c,y,v),n.set(C,p?d.get:d.value)}catch{}}),r};function x(){const e=[0,0,0,0,0,0,0];return{s:e,add(t){const n=++e[0],r=t-e[1],i=r/n,o=i*i,s=r*i*(n-1);e[1]+=i,e[4]+=s*o*(n*n-3*n+3)+6*o*e[2]-4*i*e[3],e[3]+=s*i*(n-2)-3*i*e[2],e[2]+=s,n==1?e[5]=e[6]=t:(t<e[5]&&(e[5]=t),t>e[6]&&(e[6]=t))}}}var w="addEventListener",S=Math,ie;function re(){return/Android/i.test(navigator.userAgent)}function E(e,t,n=!1,r){const i=x();let o=!1,s;return U(()=>{r=r||document.body,r[w](e,a=>{(!o||n)&&(s=a.timeStamp,o=!0)}),r[w](t,a=>{o&&(i.add(a.timeStamp-s),o=!1)})}),i.s}function ot(e){const t=[];for(let n=0;n<e.length;n++)t.push(0),document[w](e[n],r=>t[n]++);return t}function st(){const e=[0,0,0,0,0,0,0,0],t={8:1,46:1,9:2,45:3,17:4,13:5,37:6,38:6,39:6,40:6,33:7,34:7};return document[w]("keydown",n=>{const r=n.keyCode;t[r]?e[t[r]]++:r>=112&&r<=123&&e[0]++}),e}function oe(e,t,n,r){return S.sqrt(S.pow(e-t,2)+S.pow(n-r,2))}function se(e,t,n){return S.sqrt(S.pow(e,2)+S.pow(t,2)+S.pow(n,2))}function ae(e,t){let n=t-e;return n+=n>180?-360:n<-180?360:0,n}var at=class{constructor(e){this.rn=0,this.i=0,this.smel={n:0,ts:0,d:0};const t="mouse",n=this.smel,r=o=>{n.n||(n.fts=o.timeStamp,n.fxy=[o.clientX,o.clientY,o.screenX,o.screenY]),n.n++,o.type===t+"leave"&&(n.d+=o.timeStamp-n.ts),n.ts=o.timeStamp,n.xy=[o.clientX,o.clientY]},i=document;U(()=>{const o=i.body;o[w](t+"enter",r),o[w](t+"leave",r)}),this.bh={onoff:{kdu:E("keydown","keyup"),cse:E("compositionstart","compositionend"),mdu:E(t+"down",t+"up"),mle:E(t+"leave",t+"enter"),med:E(t+"enter",t+"down",!0),semd:E("scrollend",t+"down",!0,i),se:E("scroll","scrollend",!1,i),pdc:E("pointerdown","pointercancel",!0),mmc:E(t+"move","click",!0),tse:E("touchstart","touchend"),fikd:E("focusin","keydown",!0)},nev:ot([t+"out","pointercancel","focus","focusin","blur","visibilitychange","copy","paste","cut","contextmenu","click","auxclick","wheel","resize"]),nk:st(),mov:this.setupMovementMetrics(),dm:this.setupMotionMetrics(),do:this.setupOrientationMetrics()},this.dep=e.disableEvalPatching||!1,this.takeTraceRecords=rt(e)}setupMovementMetrics(){let e,t=[];const r=x(),i=x(),o=x(),s={t:r.s,v:o.s,d:i.s,ns:0},a=()=>{const u=t[t.length-1];if(t.length>=1e4/50||u&&(u[0]&&this.tm.timeStamp===u[1]||!u[0]&&this.mm.timeStamp===u[1])){if(clearInterval(e),e=void 0,t.length===1){s.ns++,t=[];return}const f=t[0];r.add(u[1]-f[1]),i.add(oe(u[2],f[2],u[3],f[3]));for(let g=1;g<t.length;g++){const c=t[g],y=t[g-1],d=oe(c[2],y[2],c[3],y[3])*1e3,p=c[1]-y[1];o.add(d/p)}t=[];return}let m=0;if(u?m=u[0]:this.mm&&this.tm?m=this.mm.timeStamp>this.tm.timeStamp?0:1:this.mm||(m=1),m){const f=this.tm.touches[0];f&&t.push([1,this.tm.timeStamp,f.screenX,f.screenY])}else t.push([0,this.mm.timeStamp,this.mm.screenX,this.mm.screenY])};let h=-1;return U(()=>{const u=document.body;u[w]("mousemove",m=>{this.mm=m,e===void 0&&(a(),e=setInterval(a,50))}),u[w]("touchmove",m=>{this.tm=m;const f=m.touches[0];if(f){const g=f.radiusX+f.radiusY*1.234;g!==h&&(h=g,this.rn++)}e===void 0&&(a(),e=setInterval(a,50))})}),s}setupMotionMetrics(){const e=x(),t=x(),n={n:0,ts:0,ac:e.s,rr:t.s,i:0,g:!1};return re()&&window[w]("devicemotion",r=>{n.ts=r.timeStamp,n.i=r.interval,n.g=!r.acceleration;const i=r.acceleration||r.accelerationIncludingGravity;i&&e.add(se(i.x,i.y,i.z));const o=r.rotationRate;o&&t.add(se(o.alpha,o.beta,o.gamma))}),n}setupOrientationMetrics(){const e=x(),t=x(),n={fts:0,ts:0,gd:e.s,bd:t.s};if(!re())return n;let r;return window[w]("deviceorientation",i=>{i.gamma==null||i.beta==null||i.alpha==null||(n.ts=i.timeStamp,n.a=i.alpha,n.b=i.beta,n.g=i.gamma,r?(e.add(ae(i.gamma,n.g)),t.add(ae(n.b,i.beta))):(n.fts=n.ts,r=!0))}),n}gmm(){const e=this.mm;return e&&{xy:[e.clientX,e.clientY,e.screenX,e.screenY,e.offsetX,e.offsetY,e.pageX,e.pageY,e.movementX,e.movementY],ts:e.timeStamp}}gtm(){const e=this.tm,t=e&&e.touches,n=t&&t[0];return e&&n&&{id:n.identifier,xy:[n.clientX,n.clientY,n.screenX,n.screenY,n.pageX,n.pageY],r:[n.radiusX,n.radiusX,n.rotationAngle,n.force],n:t.length,ts:e.timeStamp,rn:this.rn}}get(e){const t=document.body,n=window,r=n.performance;return{v:1,i:++this.i,hl:history.length,fe:!!window.frameElement,dep:this.dep,wid:e,sc:parseInt($(!1)),sid:q(),conv:0,t:{pnow:J(),pto:r&&r.timeOrigin||0,ts:Date.now()},dims:{d:[n.innerWidth,n.innerHeight,n.outerWidth,n.outerHeight,n.screenX,n.screenY,n.pageXOffset,n.pageYOffset,t.clientWidth,t.clientHeight],dpr:n.devicePixelRatio},mel:this.smel,mm:this.gmm(),tm:this.gtm(),bh:this.bh,stack:new Error().stack||"",trc:this.takeTraceRecords()}}};function ut(e){return ie||(ie=new at(e))}var W={eu:"https://eu.frcapi.com",global:"https://global.frcapi.com"};function ue(e){let t=e;return t?W[t]&&(t=W[t]):t=W.global,z(t)}function ct(){const e=document.querySelector('meta[name="frc-disable-eval-patching"]');return e?!!e.content:!1}function ce(){const e=document.querySelector('meta[name="frc-api-endpoint"]');if(e)return e.content;const t=document.currentScript;if(t){const r=t.dataset.frcApiEndpoint;if(r)return r}const n=document.querySelector(".frc-captcha[data-api-endpoint]");if(n){const r=n.dataset.apiEndpoint;if(r)return r}}function dt(){const e=window.Intl;if(!e||!e.DateTimeFormat)return;const t=new e.DateTimeFormat;if(!(!t||!t.resolvedOptions))return t.resolvedOptions().timeZone}var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function lt(e){return window.TextEncoder?ht(new TextEncoder().encode(e)):""}function ht(e){const t=e.length;let n="";for(let r=0;r<t;r+=3){const i=e[r+0],o=e[r+1],s=e[r+2];let a="";a+=T.charAt(i>>>2),a+=T.charAt((i&3)<<4|o>>>4),a+=T.charAt((o&15)<<2|s>>>6),a+=T.charAt(s&63),n+=a}return t%3===2?n=n.substring(0,n.length-1)+"=":t%3===1&&(n=n.substring(0,n.length-2)+"=="),n}var ft="/api/v2/captcha/agent",gt="/api/v2/captcha/widget",de="FrcFrameId",mt=1e3*60*60*36,M,R=0,pt=class{constructor(e={}){if(this.agents=new Map,this.agentState=new Map,this.widgets=new Map,this._attached=j(),this.attached=this._attached.promise,this.apiEndpoint=e.apiEndpoint,M=M||new Me,M.listen(t=>this.onReceiveMessage(t)),this.bus=M,R++,R>1&&console.warn("Multiple Friendly Captcha SDKs created, this is not recommended. Please use a single SDK instance."),this.signals=ut({disableEvalPatching:e.disableEvalPatching||ct()}),e.startAgent){const t=ue(this.apiEndpoint||ce());this.ensureAgentIFrame(t)}this.setupPeriodicRefresh()}onReceiveMessage(e){if(e.type==="root_set_response"){const t=this.widgets.get(e.widget_id);if(!t){R===1&&console.warn(`Received set response message for widget ${e.widget_id} that doesn't exist`);return}t.setState(e)}else if(V(e.type,"root_store"))this.handleStoreMessage(e);else if(e.type==="root_signals_get")this.handleSignalsGetMessage(e);else if(e.type==="widget_language_change")this.handleWidgetLanguageChange(e);else if(e.type==="widget_reset"){const t=this.widgets.get(e.from_id);if(!t){R===1&&console.warn(`Received reset message for widget ${e.from_id} that doesn't exist`);return}t.reset({trigger:"widget"})}}handleWidgetLanguageChange(e){const t=this.widgets.get(e.from_id);if(!t){R===1&&console.warn(`Received language change message for widget ${e.from_id} that doesn't exist`);return}const n=t.getElement(),r=n.querySelector("iframe");r&&(r.title=me(e.language));const i=n.querySelector(".frc-banner");if(i){const o=i.style;H(e.language)?(o.left="6px",o.right="auto"):(o.left="auto",o.right="6px")}}handleSignalsGetMessage(e){const t=this.signals.get(e.widget_id);this.bus.send({type:"root_signals_get_reply",from_id:"",to_id:e.from_id,_frc:1,rid:e.rid,value:t})}handleStoreMessage(e){const t=e.from_id,n=this.agentState.get(t);if(!n){console.error(`Store not found ${t}`);return}e.type==="root_store_get"?n.store.get(e.key,{p:e.p}).then(r=>{this.bus.send({type:"root_store_get_reply",from_id:"",to_id:t,_frc:1,rid:e.rid,value:r,sa:n.store.hasSA()})}):e.type==="root_store_set"&&n.store.set(e.key,e.value,{p:e.p}).then(()=>{this.bus.send({type:"root_store_set_reply",from_id:"",to_id:t,_frc:1,rid:e.rid,sa:n.store.hasSA()})})}ensureAgentIFrame(e){const t=e+ft;let n=document.getElementsByClassName(ye);for(let a=0;a<n.length;a++){const h=n[a];if(z(h.src)===e&&h.dataset[de])return h.dataset[de]}const r="a_"+P(12),i=Ke(this,r,t);this.agents.set(e,i),this.agentState.set(r,{store:new Oe(e),origin:e}),document.body.appendChild(i);let o=1;const s=()=>{this.bus.registerTargetIFrame("agent",r,i,this.getRetryTimeout(o)).then(a=>{if(a==="timeout"){if(o>4){console.error("[Friendly Captcha] Failed to load agent iframe after 4 retries."),i.remove(),this.agents.delete(e);return}console.warn("[Friendly Captcha] Retrying agent iframe load."),i.src+="&retry="+o++,s()}})};return s(),r}setupPeriodicRefresh(){let e=1;setInterval(()=>{const t="&expire="+e++;this.agents.forEach((n,r)=>{n.src+=t}),this.widgets.forEach((n,r)=>{const i=n.getElement().querySelector("iframe");i.src+=t})},mt)}getRetryTimeout(e){return Math.pow(e,1.8)*1e3+2e3}attach(e){e===void 0&&(e=Ne()),Array.isArray(e)||e instanceof NodeList||(e=[e]);const t=[];for(let r=0;r<e.length;r++){const i=e[r];if(i&&!i.frcWidget){const o=i.dataset,s={element:i,sitekey:o.sitekey,formFieldName:o.formFieldName,apiEndpoint:o.apiEndpoint,language:o.lang,theme:o.theme,startMode:o.start};t.push(this.createWidget(s))}}const n=this.getAllWidgets();return this._attached.resolve(n),this.attached=Promise.resolve(n),t}createWidget(e){const t=ue(e.apiEndpoint||this.apiEndpoint||ce());this.bus.addOrigin(t);const n=this.ensureAgentIFrame(t),r="w_"+P(12),i=p=>{const A={from_id:r,to_id:n,_frc:1};this.bus.send(Q(A,p))},o={onDestroy:()=>{i({type:"root_destroy_widget"}),this.bus.removeTarget(r),this.widgets.delete(r),e.element.innerHTML="",Ue(e.element)},onReset:()=>{i({type:"root_reset_widget"})},onTrigger:p=>{i({type:"root_trigger_widget",trigger:p.trigger})}},s=j(),a=new nt({id:r,createOpts:e,callbacks:o,registered:s.promise});this.widgets.set(r,a);const h=t+gt,u=Ge(n,r,h,e),m=Ze(e);Ve(e.element),Je(e);let f=Z(e);H(f)&&(e.element.dir="rtl");const g=m.style;m.textContent=Y(f,"connecting");let c=1;function y(p){const A=lt(JSON.stringify({sdk_v:"0.1.32",sitekey:e.sitekey||"",retry:c+"",endpoint:t,ua:navigator.userAgent,tz:dt()||""}));let _=".ERROR.UNREACHABLE";A&&(_+="~"+A),a.setState({state:"error",response:_,error:{code:"network_error",detail:p}})}const d=()=>{this.bus.registerTargetIFrame("widget",r,u,this.getRetryTimeout(c)).then(p=>{if(p==="timeout"){if(c>4){console.error("[Friendly Captcha] Failed to load widget iframe after 4 retries."),y("Widget load timeout, stopped retrying"),g.borderColor="#f00",g.fontSize="12px",Qe(m,z(u.src),f);return}g.backgroundColor="#fee",g.color="#222",m.textContent=Y(f,"retrying")+` (${c})`,console.warn(`[Friendly Captcha] Retrying widget ${r} iframe load.`),y("Widget load timeout, will retry"),u.src+="&retry="+c++,d()}else p==="registered"&&(e.element.removeChild(m),u.style.display="")})};return d(),s.resolve(),a}getAllWidgets(){const e=[];return this.widgets.forEach(t=>{e.push(t)}),e}getWidgetById(e){return this.widgets.get(e)}clear(){this.widgets.forEach(e=>{e.destroy()}),this.agents.forEach(e=>{e.remove()}),this.agents.clear()}};/*!
 * Copyright (c) Friendly Captcha GmbH 2023.
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/.
 */const yt={class:"bg-[#0f0f0f] antialiased"},Et={class:"flex flex-col justify-center items-center min-h-screen bg-[#09090b]"},vt={class:"w-full max-w-[400px] space-y-6 px-4"},wt={class:"space-y-2 text-center"},bt={class:"text-2xl font-bold tracking-tight text-white"},xt={class:"text-sm text-zinc-400"},At={class:"space-y-6 p-6 bg-zinc-900/30 backdrop-blur-xl rounded-xl border border-zinc-800/50"},St={class:"space-y-4"},_t={class:"space-y-2"},Ft={class:"space-y-2"},kt={class:"space-y-2"},Ct={key:0,class:"text-sm text-red-500"},Dt={class:"text-center text-sm text-zinc-500"};le("fixed w-full z-50 transition-all duration-200 ease-in-out py-6 bg-transparent border-b border-transparent");le(!1);const Rt={data(){return{error:"",form:{username:"",password:"",confpassword:""},captchaSolution:""}},methods:{...be("user",{loginUser:"login"}),async register(){if(console.log("Sending captcha solution:",this.captchaSolution),this.form.username==""||this.form.password==""||this.form.confpassword==""||!this.captchaSolution){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Please fill in all inputs to proceed",type:"error"});return}if(this.form.password!=this.form.confpassword){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Passwords are not the same",type:"error"});return}try{const e=await ke(this.form.username,this.form.password,this.captchaSolution);if(e.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.error,type:"error"});return}this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Register completed, please wait.",type:"success"}),setTimeout(()=>{this.login()},1200)}catch(e){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.message,type:"error"});return}},async login(){try{const e=await this.loginUser({username:this.form.username,password:this.form.password});if(e.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.error,type:"error"});return}if(e.message){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.message,type:"error"});return}if(this.form={},!e.accessToken){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Access token could not be granted.",type:"error"});return}setTimeout(()=>{window.location.href="/dash"},1500)}catch(e){this.error=e.message}}},mounted(){const e=this,t=document.createElement("script");t.src="/assets/anim.js",document.body.appendChild(t);const n=document.createElement("script");n.src="/assets/reveal.js",document.body.appendChild(n);const r=document.createElement("script");r.src="/assets/btn-anim.js",document.body.appendChild(r),Fe(()=>{try{const i=document.querySelector("#captcha-container");if(!i)throw new Error("Captcha container not found");const s=new pt({apiEndpoint:"global"}).createWidget({element:i,sitekey:"FCMOI0E7MTJBRNDF"});s.addEventListener("frc:widget.complete",a=>{e.captchaSolution=a.detail.response}),s.addEventListener("frc:widget.error",a=>{console.error("❌ CAPTCHA error:",a.detail.error)}),s.addEventListener("frc:widget.expire",()=>{console.warn("⚠️ CAPTCHA expired—user must solve again."),this.captchaSolution=""})}catch(i){console.error("❌ Error initializing CAPTCHA widget:",i)}})}},Tt=we({...Rt,__name:"RegisterView",setup(e){return(t,n)=>{const r=Ae("motion");return k(),F("div",yt,[b(l("div",Et,[l("div",vt,[l("div",wt,[b((k(),F("h1",bt,[...n[4]||(n[4]=[D("Create an account",-1)])])),[[r,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600}}}]]),b((k(),F("p",xt,[...n[5]||(n[5]=[D("Enter your details to create your account",-1)])])),[[r,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600,delay:200}}}]])]),b((k(),F("div",At,[l("div",St,[l("div",_t,[n[6]||(n[6]=l("label",{class:"text-sm font-medium text-zinc-300"},"Username",-1)),b(l("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>t.form.username=i),type:"text",class:"w-full px-3 py-2 rounded-md bg-zinc-900 border border-zinc-800 text-zinc-100 text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-700 focus:border-zinc-700 transition-all",required:""},null,512),[[L,t.form.username]])]),l("div",Ft,[n[7]||(n[7]=l("label",{class:"text-sm font-medium text-zinc-300"},"Password",-1)),b(l("input",{"onUpdate:modelValue":n[1]||(n[1]=i=>t.form.password=i),type:"password",class:"w-full px-3 py-2 rounded-md bg-zinc-900 border border-zinc-800 text-zinc-100 text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-700 focus:border-zinc-700 transition-all",required:""},null,512),[[L,t.form.password]])]),l("div",kt,[n[8]||(n[8]=l("label",{class:"text-sm font-medium text-zinc-300"},"Confirm Password",-1)),b(l("input",{"onUpdate:modelValue":n[2]||(n[2]=i=>t.form.confpassword=i),type:"password",class:"w-full px-3 py-2 rounded-md bg-zinc-900 border border-zinc-800 text-zinc-100 text-sm placeholder:text-zinc-500 focus:outline-none focus:ring-2 focus:ring-zinc-700 focus:border-zinc-700 transition-all",required:""},null,512),[[L,t.form.confpassword]])]),n[9]||(n[9]=l("div",{id:"captcha-container"},null,-1)),t.error?(k(),F("p",Ct,_e(t.error),1)):Se("",!0),n[10]||(n[10]=l("div",{class:"text-xs text-zinc-400 space-y-1"},[l("p",null,[D(" By continuing, you agree to our "),l("a",{href:"/tos",class:"text-zinc-200 hover:text-white transition-colors"},"Terms of Service"),D(" and "),l("a",{href:"/privacy",class:"text-zinc-200 hover:text-white transition-colors"},"Privacy Policy")])],-1)),l("button",{type:"submit",onClick:n[3]||(n[3]=(...i)=>t.register&&t.register(...i)),class:"w-full py-2.5 rounded-md bg-gradient-to-r from-zinc-200 to-zinc-100 font-medium text-sm text-black hover:opacity-90 transition-all active:scale-95"}," Create Account ")]),b((k(),F("p",Dt,[...n[11]||(n[11]=[D(" Already have an account? ",-1),l("a",{href:"/login",class:"text-zinc-200 hover:text-white transition-colors"}," Sign in ",-1)])])),[[r,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600,delay:400}}}]])])),[[r,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600,delay:300}}}]])])],512),[[xe,!t.totprequired&&!t.welcome]])])}}}),zt=Ce(Tt,[["__scopeId","data-v-3eba95a2"]]);export{zt as default};
