import{r as w,l as ie,M as se,N as ne,O as ce,c,o as d,a as r,k as b,i as U,t as g,n as y,f as h,v as N,_ as V,F as x,j as $,g as D,h as Z,p as de,P as ue,d as fe,s as _e,e as J,Q as X,L as pe,R as q,S as be,U as he,V as me,W as ge,X as ve,Y as ke}from"./index-CRQdNere.js";import{S as ye}from"./SocialModal-BB7wGrv5.js";const we={class:"flex items-center gap-2"},xe={class:"text-zinc-400 text-sm"},Ce={key:0,class:"absolute top-full left-0 mt-2 p-3 bg-zinc-900 rounded-lg border border-zinc-800 shadow-xl z-50"},ze={class:"space-y-4"},Ee={class:"flex items-center gap-2"},$e={__name:"colorPicker",props:{modelValue:{type:String,default:"#000000"}},emits:["update:modelValue"],setup(o,{emit:e}){const t=o,f=e,s=w(null),l=w(null),n=w(null),a=w(!1),_=w(0),k=w(100),T=w(100),S=w(""),L=w(!1),M=w(""),A=ie(()=>{const i=O(_.value,100,100);return`rgb(${i.r}, ${i.g}, ${i.b})`}),K=()=>{a.value=!a.value},ee=()=>{a.value=!1},O=(i,u,p)=>{u/=100,p/=100;const m=p*u,B=m*(1-Math.abs(i/60%2-1)),C=p-m;let v=0,z=0,E=0;return 0<=i&&i<60?(v=m,z=B,E=0):60<=i&&i<120?(v=B,z=m,E=0):120<=i&&i<180?(v=0,z=m,E=B):180<=i&&i<240?(v=0,z=B,E=m):240<=i&&i<300?(v=B,z=0,E=m):300<=i&&i<360&&(v=m,z=0,E=B),{r:Math.round((v+C)*255),g:Math.round((z+C)*255),b:Math.round((E+C)*255)}},I=(i,u,p)=>{i/=255,u/=255,p/=255;const m=Math.max(i,u,p),B=Math.min(i,u,p),C=m-B;let v=0;const z=m===0?0:C/m*100,E=m*100;if(C!==0){switch(m){case i:v=(u-p)/C%6;break;case u:v=(p-i)/C+2;break;case p:v=(i-u)/C+4;break}v*=60,v<0&&(v+=360)}return{h:Math.round(v),s:Math.round(z),v:Math.round(E)}},G=i=>(i=i.replace("#",""),{r:parseInt(i.substr(0,2),16),g:parseInt(i.substr(2,2),16),b:parseInt(i.substr(4,2),16)}),oe=(i,u,p)=>`#${i.toString(16).padStart(2,"0")}${u.toString(16).padStart(2,"0")}${p.toString(16).padStart(2,"0")}`,R=()=>{const i=O(_.value,k.value,T.value),u=oe(i.r,i.g,i.b);S.value=u,f("update:modelValue",u)},te=()=>{const i=S.value;if(/^#[0-9A-Fa-f]{6}$/.test(i)){const u=G(i),p=I(u.r,u.g,u.b);_.value=p.h,k.value=p.s,T.value=p.v,f("update:modelValue",i)}},re=()=>{/^#[0-9A-Fa-f]{6}$/.test(S.value)||(S.value=t.modelValue||"#000000")},le=i=>{L.value=!0,M.value="saturation",j(i)},ae=i=>{L.value=!0,M.value="hue",P(i)},j=i=>{if(!l.value)return;const u=l.value.getBoundingClientRect(),p=Math.max(0,Math.min(u.width,i.clientX-u.left)),m=Math.max(0,Math.min(u.height,i.clientY-u.top));k.value=Math.round(p/u.width*100),T.value=Math.round(100-m/u.height*100),R()},P=i=>{if(!n.value)return;const u=n.value.getBoundingClientRect(),p=Math.max(0,Math.min(u.width,i.clientX-u.left));_.value=Math.round(p/u.width*360),R()},F=i=>{L.value&&(M.value==="saturation"?j(i):M.value==="hue"&&P(i))},H=()=>{L.value=!1,M.value=""},W=i=>{s.value&&!s.value.contains(i.target)&&ee()},Y=()=>{const i=t.modelValue||"#000000";S.value=i;const u=G(i),p=I(u.r,u.g,u.b);_.value=p.h,k.value=p.s,T.value=p.v};return se(()=>t.modelValue,i=>{i!==S.value&&Y()}),ne(()=>{Y(),document.addEventListener("mousedown",W),document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)}),ce(()=>{document.removeEventListener("mousedown",W),document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)}),(i,u)=>(d(),c("div",{class:"relative",ref_key:"colorPickerRef",ref:s},[r("button",{type:"button",onClick:K,class:"w-full flex items-center justify-between bg-zinc-800/50 border border-zinc-700 rounded-lg px-3 py-2 hover:bg-zinc-800/70 transition-colors"},[r("div",we,[r("div",{class:"w-4 h-4 rounded border border-zinc-600",style:U({backgroundColor:o.modelValue})},null,4),r("span",xe,g(o.modelValue||"#000000"),1)]),(d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:y(["w-5 h-5 text-zinc-500 transition-transform",{"rotate-180":a.value}])},[...u[1]||(u[1]=[r("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))]),a.value?(d(),c("div",Ce,[r("div",ze,[r("div",{ref_key:"saturationArea",ref:l,onMousedown:le,class:"w-56 h-40 relative rounded-lg cursor-crosshair",style:U({background:`linear-gradient(to right, white, ${A.value}), linear-gradient(to bottom, transparent, black)`,backgroundBlendMode:"multiply"})},[r("div",{class:"absolute w-3 h-3 border-2 border-white rounded-full -translate-x-1/2 -translate-y-1/2 pointer-events-none shadow-lg",style:U({left:`${k.value}%`,top:`${100-T.value}%`,backgroundColor:o.modelValue})},null,4)],36),r("div",{ref_key:"hueSlider",ref:n,onMousedown:ae,class:"h-3 rounded-full cursor-pointer relative",style:{background:"linear-gradient(to right, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)"}},[r("div",{class:"w-3 h-3 -mt-1.5 -translate-x-1/2 border-2 border-white rounded-full pointer-events-none absolute shadow-lg",style:U({left:`${_.value/360*100}%`,backgroundColor:A.value})},null,4)],544),r("div",Ee,[r("div",{class:"w-8 h-8 rounded border border-zinc-600",style:U({backgroundColor:o.modelValue})},null,4),h(r("input",{"onUpdate:modelValue":u[0]||(u[0]=p=>S.value=p),onInput:te,onBlur:re,class:"flex-1 bg-zinc-800/50 border border-zinc-700 rounded px-2 py-1 text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"#000000",type:"text"},null,544),[[N,S.value]])])])])):b("",!0)],512))}},Se={props:{isOpen:Boolean,username:String,domains:Array},data(){return{selectedDomain:this.domains[0],url:"",openDropdowns:{domain:!1}}},watch:{isOpen(o){o&&this.updateUrl(this.selectedDomain)},selectedDomain(o){this.updateUrl(o)}},methods:{back(){this.$emit("close")},copyUrl(){const o=`https://${this.url}`;navigator.clipboard.writeText(o).then(()=>{this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Copied To Clipboard!",type:"success"}),this.$emit("close")}).catch(e=>{console.error("Failed to copy text: ",e)})},updateUrl(o){this.username&&o&&(this.url=`${o}/${this.username}`)},toggleDropdown(o){this.openDropdowns[o]=!this.openDropdowns[o]},selectDomain(o){this.selectedDomain=o,this.openDropdowns.domain=!1}},mounted(){this.isOpen&&this.updateUrl(this.selectedDomain)}},Be={key:0,class:"fixed inset-0 flex justify-center items-center bg-black/50 z-50 px-4 py-5 sm:p-6 space-y-6",style:{"background-color":"rgba(0, 0, 0, 0.4)","backdrop-filter":"blur(10px) saturate(160%)"}},Te={class:"bg-zinc-900 px-4 py-5 sm:p-6 space-y-6 shadow-lg rounded-xl w-96 border border-zinc-800",style:{"background-color":"rgb(17, 17, 17)"}},Ne=["placeholder"],Ue={class:"relative"},De={key:0,class:"absolute left-0 top-full mt-1 w-full max-h-[280px] overflow-y-auto bg-zinc-800 border border-zinc-700 rounded-md shadow-lg z-50 scrollbar-thin scrollbar-thumb-zinc-600 scrollbar-track-transparent"},Me=["onClick"],Le={class:"flex justify-between mt-4"};function Ve(o,e,t,f,s,l){const n=Z("motion");return t.isOpen?(d(),c("div",Be,[r("div",Te,[e[5]||(e[5]=r("h3",{class:"text-xl text-white text-center mb-4"},"Share Your Profile!",-1)),r("div",null,[h(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>s.url=a),class:"w-full bg-zinc-800/50 text-white border border-zinc-700 rounded-lg p-3 mb-4",placeholder:`Profile URL for ${t.username}`},null,8,Ne),[[N,s.url]]),r("div",Ue,[r("button",{onClick:e[1]||(e[1]=a=>l.toggleDropdown("domain")),class:"w-full h-10 pl-3 pr-2 text-white text-sm flex items-center justify-between bg-zinc-800/50 border border-zinc-700 rounded-md hover:border-zinc-600 focus:outline-none"},[r("span",null,g(s.selectedDomain),1),(d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:y(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":s.openDropdowns.domain}])},[...e[4]||(e[4]=[r("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))]),s.openDropdowns.domain?(d(),c("div",De,[(d(!0),c(x,null,$(t.domains,(a,_)=>(d(),c("div",{key:a},[h((d(),c("button",{onClick:k=>l.selectDomain(a),class:y(["w-full px-3 py-2 text-left text-sm text-white hover:bg-zinc-800 transition-colors",{"bg-zinc-700":s.selectedDomain===a}])},[D(g(a),1)],10,Me)),[[n,{initial:{opacity:0,x:-10},enter:{opacity:1,x:0,transition:{delay:_*30}}}]])]))),128))])):b("",!0)])]),r("div",Le,[r("button",{onClick:e[2]||(e[2]=(...a)=>l.back&&l.back(...a)),class:"bg-zinc-700 text-white px-4 py-2 rounded-md"},"Back"),r("button",{onClick:e[3]||(e[3]=(...a)=>l.copyUrl&&l.copyUrl(...a)),class:"px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50"},"Copy")])])])):b("",!0)}const Q=V(Se,[["render",Ve]]),Ae={props:{tabs:{type:Array,required:!0}},data(){return{currentTab:this.tabs[0].name}},methods:{selectTab(o){this.currentTab=o}}},Oe={class:"nav nav-tabs"},Ie=["onClick"],Ge={class:"tab-content mt-4"};function Re(o,e,t,f,s,l){return d(),c("div",null,[r("ul",Oe,[(d(!0),c(x,null,$(t.tabs,(n,a)=>(d(),c("li",{class:"nav-item",key:a},[r("a",{class:y(["nav-link",{active:s.currentTab===n.name}]),onClick:de(_=>l.selectTab(n.name),["prevent"]),href:"#",style:{"background-color":"transparent",border:"solid 1px #1b1b1b"}},g(n.label),11,Ie)]))),128))]),r("div",Ge,[(d(!0),c(x,null,$(t.tabs,(n,a)=>(d(),c("div",{class:y(["tab-pane fade",{show:s.currentTab===n.name,active:s.currentTab===n.name}]),key:a},[ue(o.$slots,n.name,{},void 0)],2))),128))])])}const je=V(Ae,[["render",Re],["__scopeId","data-v-3ec075e6"]]),Pe={class:"w-full min-h-screen p-4 md:p-6"},Fe={key:0,class:"loader2"},He={key:0},We={class:"overlay flex items-center justify-center min-h-screen w-full px-4"},Ye={style:{"min-width":"36rem"},class:"pulse flex-col bg-[#131313] p-3 rounded-lg items-start shadow-2xl w-full max-w-xl h-auto md:p-8 gap-2"},Je={class:"text-lg md:text-2xl font-bold text-center"},Xe={key:1,class:"max-w-md mx-auto sm:px-6 py-6"},qe={class:"bg-zinc-900/50 border border-zinc-800 rounded-xl px-4 py-5 sm:p-6 space-y-6 shadow-lg"},Ze={class:"space-y-2"},Qe=["disabled"],Ke={key:0,class:"text-blue-400 text-center text-sm mt-2"},eo={key:2,class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 sm:gap-0 mb-6"},oo={class:"flex items-center gap-2 text-sm text-zinc-400 overflow-x-auto whitespace-nowrap"},to=["href"],ro={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-link text-white hover:text-indigo-400 transition-colors",href:"/@1",target:"_blank"},lo={key:3,class:"relative mb-6 -mx-4 px-4 md:mx-0 md:px-0"},ao={ref:"tabsRef",class:"overflow-x-hidden scrollbar-hide"},io={class:"absolute left-0 top-0 bottom-0 z-10 flex items-center md:hidden"},so={class:"absolute right-0 top-0 bottom-0 z-10 flex items-center md:hidden"},no={class:"flex gap-2 min-w-max px-8 md:px-0 mask-fade-edges md:mask-none"},co=["onClick"],uo={key:4},fo={key:0,class:"p-4 sm:p-6 rounded-xl bg-zinc-900/50 border border-zinc-800/50 mt-6"},_o={key:0},po={id:"general-settings-username",class:"space-y-2 py-1"},bo={class:"flex flex-col sm:flex-row gap-2"},ho={class:"flex-1 flex items-center gap-2 bg-zinc-800/50 border border-zinc-700 rounded-lg px-3 py-2"},mo=["placeholder"],go={key:1},vo={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ko={class:"space-y-4",id:"import-settings"},yo={class:"flex items-center gap-4"},wo={class:"flex-1"},xo={class:"flex items-center gap-2 w-full px-4 py-2 bg-zinc-800/50 border border-zinc-700 rounded-lg hover:bg-zinc-800 transition-colors cursor-pointer"},Co={class:"space-y-4",id:"export-settings"},zo={class:"space-y-6"},Eo={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},$o=["for"],So={key:1},Bo={class:"relative"},To=["onClick"],No={key:0,class:"absolute left-0 top-full mt-1 w-full max-h-[280px] overflow-y-none bg-zinc-800 border border-zinc-700 rounded-md shadow-lg z-50 scrollbar-thin scrollbar-thumb-zinc-600 scrollbar-track-transparent"},Uo=["onClick"],Do={key:2},Mo={class:"relative"},Lo=["onClick"],Vo={class:"flex items-center gap-2"},Ao={class:"absolute left-0 top-full mt-1 w-full max-h-60 overflow-y-auto bg-zinc-800 border border-zinc-700 rounded-md shadow-lg z-50 p-4"},Oo={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},Io={class:"font-semibold text-lg text-white"},Go={class:"space-y-2"},Ro=["checked","onChange"],jo={class:"text-sm text-white"},Po={key:3},Fo=["onUpdate:modelValue","placeholder","id","name"],Ho={key:4},Wo=["onUpdate:modelValue","id","name"],Yo={key:5},Jo={class:"flex items-center gap-4"},Xo=["onUpdate:modelValue","id","name"],qo={class:"w-12 text-sm text-zinc-500"},Zo={key:6},Qo={class:"flex justify-between py-4"},Ko={class:"text-sm font-medium text-zinc-400"},et=["for"],ot=["id","name","onUpdate:modelValue"],tt={key:7},rt={components:{SocialModal:ye,Tabs:je,ProfileModal:Q},data(){return{isShareModalOpen:!1,selectedTab:"General",tabNames:["General","Background","Profile","Link","Badge","Layout","Effects","Embed"],domains:["alo.ne","afra.id","ra.pe","sexu.al","bruis.es","deni.al","excus.es","bayon.et","karamb.it","trapst.ar","drugabu.se","supersta.rs","doxi.ng","exitsc.am","skid.rip"],selectedDomain:"alo.ne",Loading:!0,createAccount:!1,dropdownVisible:{nickname:!1,desc:!1,title:!1},nicknameEffects:[{name:"rainbow sparkle",selected:!1},{name:"black sparkle",selected:!1},{name:"blue sparkle",selected:!1},{name:"green sparkle",selected:!1},{name:"pink sparkle",selected:!1},{name:"red sparkle",selected:!1},{name:"white sparkle",selected:!1},{name:"yellow sparkle",selected:!1},{name:"typewriter",selected:!1},{name:"glitch",selected:!1},{name:"binary",selected:!1}],descEffects:[{name:"rainbow sparkle",selected:!1},{name:"black sparkle",selected:!1},{name:"blue sparkle",selected:!1},{name:"green sparkle",selected:!1},{name:"pink sparkle",selected:!1},{name:"red sparkle",selected:!1},{name:"white sparkle",selected:!1},{name:"yellow sparkle",selected:!1},{name:"typewriter",selected:!1},{name:"glitch",selected:!1},{name:"binary",selected:!1}],titleEffects:[{name:"rainbow sparkle",selected:!1},{name:"black sparkle",selected:!1},{name:"blue sparkle",selected:!1},{name:"green sparkle",selected:!1},{name:"pink sparkle",selected:!1},{name:"red sparkle",selected:!1},{name:"white sparkle",selected:!1},{name:"yellow sparkle",selected:!1},{name:"typewriter",selected:!1},{name:"glitch",selected:!1},{name:"binary",selected:!1}],effects:[{id:"effect1",label:"Nickname Glow",enabled:!1},{id:"effect2",label:"Nickname Gradient",enabled:!1},{id:"effect3",label:"Profile Border",enabled:!1},{id:"effect4",label:"Profile Gradient",enabled:!1},{id:"effect5",label:"Animated Title",enabled:!1},{id:"effect6",label:"Click to enter",enabled:!1},{id:"effect7",label:"PFP Border",enabled:!1},{id:"effect8",label:"Socials Hover Animation",enabled:!1},{id:"effect9",label:"Profile card tilt",enabled:!1}],layouts:[{id:"layouts1",label:"Center everything",enabled:!1},{id:"layouts2",label:"Icons only",enabled:!0}],form:{username:"",nickname:"",title:"",description:"",audio:"",background_effects:"",background_effects_color:"",background_dot_effects_color:"",background_line_effects_color:"",background_effects_opacity:"",background_effects_blur:"",background_effects_hue:"",background_effects_contrast:"",background_url_video:"",background_url_image:"",profile_text_color:"",profile_sep_color:"",profile_avatar:"",profile_background:"",profile_background_color:"",profile_background_opacity:"",profile_border:"",profile_border_width:"",profile_border_color:"",profile_border_animation:"",profile_border_animation_color_one:"",profile_border_animation_color_two:"",profile_shadow_size:"",profile_shadow_color:"",profile_opacity:"",profile_blur:"",profile_effects:"",profile_effects_opacity:"",profile_effects_blur:"",profile_gradient:"",profile_gradient_type:"",profile_gradient_one:"",profile_gradient_two:"",view_count:"",view_color:"",card_tilt:"",socials_border:"",socials_border_width:"",socials_border_radius:"",socials_border_color:"",socials_text_color:"",socials_icon_color:"",socials_background_color:"",socials_background_color_opacity:"",socials_opacity:"",socials_hover_opacity:"",socials_glow:"",socials_shadow_size:"",socials_shadow_color:"",socials_hover_shadow_size:"",socials_hover_shadow_color:"",socials_hover_enable:"",socials_hover_color:"",socials_hover_icon_color:"",socials_hover_background_color:"",socials_hover_background_color_opacity:"",socials_hover_border_color:"",socials_hover_border_width:"",socials_hover_border_radius:"",socials_animation:"",badges:!1,badge_border:"",badge_border_width:"",badge_border_radius:"",badge_border_color:"",badge_text_color:"",badge_icon_color:"",badge_background_color:"",badge_background_color_opacity:"",badge_opacity:"",badge_glow:"",badge_shadow_size:"",badge_shadow_color:"",badge_hover_shadow_size:"",badge_hover_shadow_color:"",badge_hover_size:"",badge_hover_color:"",badge_hover_icon_color:"",badge_hover_background_color:"",badge_hover_background_color_opacity:"",badge_hover_border_color:"",badge_hover_border_width:"",badge_hover_border_radius:"",profile_layout:"",layout1_badge_position:!1,layout1_title_position:!1,layout1_desc_position:!1,layout1_seperator:!1,layout1_center:!1,link_animation_type:"",badge_animation_type:"",text_animation_type:"",nickname_effects:"",desc_effects:"",title_effects:"",username_glow_size:"",username_glow_color:"",nickname_gradient_one:"",nickname_gradient_two:"",nickname_glow:!1,nickname_gradient:!1,nickname_gradient_style:"",head_title_name:"",head_title_anim:!1,head_favicon:"",clickstyle:"",clickto_enter:!1,clickto_enter_text:"",clickto_enter_hover_color:"",clickto_enter_background_color:"",clickto_enter_color:"",clickto_enter_grad_one:"",clickto_enter_grad_two:"",clickto_enter_grad_three:"",clickto_enter_background_opacity:"",profile_avatar_border:"",audio_visualizer:"",profile_avatar_border_width:"",profile_avatar_border_color:"",web_embed_title:"",web_embed_desc:"",emb_embed_image:""},fieldMap:{General:{nickname:{type:"text",label:"Nickname",placeholder:"Username to display"},title:{type:"text",label:"Title",placeholder:"Title for your profile"},description:{type:"text",label:"Description",placeholder:"A short description for your profile"},audio:{type:"text",label:"Audio (.mp3)",placeholder:"Enter audio URL (e.g., https://example.com/song.mp3)"},head_title_name:{type:"text",label:"Browser Page Title",placeholder:"Text shown in page tab"},head_title_anim:{type:"checkbox",label:"Animate Browser Title"},head_favicon:{type:"text",label:"Browser Page Favicon",placeholder:"URL to an image, for page icon"}},Background:{background_url_video:{type:"text",label:"Background Video",placeholder:"Enter background video URL (e.g., https://example.com/video.mp4)"},background_url_image:{type:"text",label:"Background Image",placeholder:"Enter background image URL (e.g., https://example.com/image.jpg)"},background_effects:{type:"dropdown",label:"Background Effects",options:[{value:"",label:"None"},{value:"particles",label:"Particles"},{value:"waves",label:"Waves"},{value:"tv",label:"TV"},{value:"snow-anim",label:"Snow Animated"},{value:"snow",label:"Snow"},{value:"rain",label:"Rain"}]},background_effects_color:{type:"color",label:"Effects Colour",conditional:{field:"background_effects",operator:"not_empty"}},background_dot_effects_color:{type:"color",label:"Particle Dot Colour",conditional:{field:"background_effects",operator:"in",value:["particles"]}},background_line_effects_color:{type:"color",label:"Particle Line Colour",conditional:{field:"background_effects",operator:"in",value:["particles"]}},background_effects_opacity:{type:"range",label:"Effects Opacity",conditional:{field:"background_effects",operator:"not_empty"}}},Profile:{profile_text_color:{type:"color",label:"Text Color"},profile_sep_color:{type:"color",label:"Seperator Color"},profile_avatar:{type:"text",label:"Avatar",placeholder:"Enter avatar URL (e.g., https://example.com/avatar.jpg)"},profile_avatar_border:{type:"checkbox",label:"Avatar Border"},profile_avatar_border_width:{type:"number",label:"Avatar Border Width",conditional:{field:"profile_avatar_border",value:!0}},profile_avatar_border_color:{type:"color",label:"Avatar Border Color",conditional:{field:"profile_avatar_border",value:!0}},view_count:{type:"checkbox",label:"View Count"},view_color:{type:"color",label:"View Count Icon Color",conditional:{field:"view_count",value:!0}},profile_background:{type:"text",label:"Background Picture",placeholder:"Enter profile background URL (e.g., https://example.com/background.jpg)"},profile_background_color:{type:"color",label:"Background Color"},profile_background_opacity:{type:"range",label:"Background Opacity"},profile_border:{type:"checkbox",label:"Border"},profile_border_width:{type:"number",label:"Border Width",conditional:{field:"profile_border",value:!0}},profile_border_color:{type:"color",label:"Border Color",conditional:{field:"profile_border",value:!0}},profile_border_animation:{type:"dropdown",label:"Border Style",options:[{value:"solid",label:"Solid"},{value:"dashed",label:"Dashed"}],conditional:{field:"profile_border",value:!0}},profile_shadow_size:{type:"number",label:"Card Glow Strength"},profile_shadow_color:{type:"color",label:"Card Glow Color"},profile_opacity:{type:"range",label:"Card Opacity"},profile_blur:{type:"range",label:"Card Background Blur"},profile_effects:{type:"dropdown",label:"Card Background Effects",options:[{value:"",label:"None"},{value:"blobs",label:"Blobs"}]},profile_effects_opacity:{type:"range",label:"Card Effects Opacity",conditional:{field:"profile_effects",operator:"not_empty"}},profile_effects_blur:{type:"range",label:"Card Effects Blur",conditional:{field:"profile_effects",value:!0}},audio_visualizer:{type:"checkbox",label:"Card Audio Visualizer"},card_tilt:{type:"checkbox",label:"Card Tilt"}},Link:{socials_border:{type:"checkbox",label:"Border"},socials_border_width:{type:"number",label:"Border Width",conditional:{field:"socials_border",value:!0}},socials_border_radius:{type:"number",label:"Border Radius",conditional:{field:"socials_border",value:!0}},socials_border_color:{type:"color",label:"Border Color",conditional:{field:"socials_border",value:!0}},socials_hover_border_color:{type:"color",label:"Icon Border Color",conditional:{field:"socials_border",value:!0}},socials_hover_border_width:{type:"number",label:"Icon Border Width",conditional:{field:"socials_border",value:!0}},socials_hover_border_radius:{type:"number",label:"Icon Border Radius",conditional:{field:"socials_border",value:!0}},socials_text_color:{type:"color",label:"Text Color"},socials_hover_color:{type:"color",label:"Text Hover Color"},socials_icon_color:{type:"color",label:"Icon Color"},socials_hover_icon_color:{type:"color",label:"Icon Hover Color"},socials_opacity:{type:"range",label:"Icon Opacity"},socials_hover_opacity:{type:"range",label:"Icon Hover Opacity"},socials_background_color:{type:"color",label:"Icon Background Color"},socials_background_color_opacity:{type:"range",label:"Icon Background Color Opacity"},socials_hover_background_color:{type:"color",label:"Icon Hover Background Color"},socials_hover_background_color_opacity:{type:"range",label:"Icon Hover Background Color Opacity"},socials_glow:{type:"checkbox",label:"Icon Glow"},socials_shadow_size:{type:"number",label:"Icon Glow Size",conditional:{field:"socials_glow",value:!0}},socials_shadow_color:{type:"color",label:"Icon Glow Color",conditional:{field:"socials_glow",value:!0}},socials_hover_shadow_size:{type:"number",label:"Icon Hover Glow Size",conditional:{field:"socials_glow",value:!0}},socials_hover_shadow_color:{type:"color",label:"Icon Hover Glow Color",conditional:{field:"socials_glow",value:!0}},socials_hover_enable:{type:"checkbox",label:"Icon Hover Zoom Animation"},socials_animation:{type:"dropdown",label:"Icon Hover Animation (Extra)",options:[{value:"0",label:"None"},{value:"1",label:"Bounce"}]}},Badge:{badges:{type:"checkbox",label:"Badges Show/Hide"},badge_border:{type:"checkbox",label:"Border",conditional:{field:"badges",value:!0}},badge_border_color:{type:"color",label:"Border Color",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_border_width:{type:"number",label:"Border Width",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_border_radius:{type:"number",label:"Border Radius",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_hover_border_color:{type:"color",label:"Hover Border Color",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_hover_border_width:{type:"number",label:"Hover Border Width",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_hover_border_radius:{type:"number",label:"Hover Border Radius",conditional:[{field:"badges",value:!0},{field:"badge_border",value:!0}]},badge_text_color:{type:"color",label:"Text Color",conditional:{field:"badges",value:!0}},badge_hover_color:{type:"color",label:"Text Hover Color",conditional:{field:"badges",value:!0}},badge_icon_color:{type:"color",label:"Icon Color",conditional:{field:"badges",value:!0}},badge_hover_icon_color:{type:"color",label:"Icon Hover Color",conditional:{field:"badges",value:!0}},badge_background_color:{type:"color",label:"Background Color",conditional:{field:"badges",value:!0}},badge_background_color_opacity:{type:"range",label:"Background Color Opacity",conditional:{field:"badges",value:!0}},badge_hover_background_color:{type:"color",label:"Icon Background Hover Color",conditional:{field:"badges",value:!0}},badge_hover_background_color_opacity:{type:"range",label:"Icon Background Hover Color Opacity",conditional:{field:"badges",value:!0}},badge_opacity:{type:"range",label:"Opacity",conditional:{field:"badges",value:!0}},badge_glow:{type:"checkbox",label:"Glow",conditional:{field:"badges",value:!0}},badge_shadow_size:{type:"number",label:"Glow Size",conditional:[{field:"badges",value:!0},{field:"badge_glow",value:!0}]},badge_shadow_color:{type:"color",label:"Glow Color",conditional:[{field:"badges",value:!0},{field:"badge_glow",value:!0}]},badge_hover_shadow_size:{type:"number",label:"Glow Hover Size",conditional:[{field:"badges",value:!0},{field:"badge_glow",value:!0}]},badge_hover_shadow_color:{type:"color",label:"Glow Hover Color",conditional:[{field:"badges",value:!0},{field:"badge_glow",value:!0}]},badge_hover_size:{type:"number",label:"Hover Zoom Size ",conditional:{field:"badges",value:!0}}},Layout:{profile_layout:{type:"dropdown",label:"Layout",options:[{value:"1",label:"Default"},{value:"2",label:"Modern"},{value:"3",label:"Retro"}]},layout1_center:{type:"checkbox",label:"Center Everything",conditional:{field:"profile_layout",operator:"in",value:["3"]}},layout1_seperator:{type:"checkbox",label:"Seperator",conditional:{field:"profile_layout",operator:"in",value:["3"]}}},Effects:{nickname_effects:{type:"multi-select",label:"Nickname Effects",icon:"fas fa-star",categories:[{title:"Sparkles",options:[{value:"rainbow-sparkle",label:"Rainbow sparkle"},{value:"black-sparkle",label:"Black sparkle"},{value:"blue-sparkle",label:"Blue sparkle"},{value:"green-sparkle",label:"Green sparkle"},{value:"pink-sparkle",label:"Pink sparkle"},{value:"red-sparkle",label:"Red sparkle"},{value:"white-sparkle",label:"White sparkle"},{value:"yellow-sparkle",label:"Yellow sparkle"}]},{title:"Text Effects",options:[{value:"typewriter",label:"Typewriter"},{value:"glitch",label:"Glitch"},{value:"binary-scroll",label:"Binary Scroll"}]}]},desc_effects:{type:"multi-select",label:"Description Effects",icon:"fas fa-star",categories:[{title:"Sparkles",options:[{value:"rainbow-sparkle",label:"Rainbow sparkle"},{value:"black-sparkle",label:"Black sparkle"},{value:"blue-sparkle",label:"Blue sparkle"},{value:"green-sparkle",label:"Green sparkle"},{value:"pink-sparkle",label:"Pink sparkle"},{value:"red-sparkle",label:"Red sparkle"},{value:"white-sparkle",label:"White sparkle"},{value:"yellow-sparkle",label:"Yellow sparkle"}]},{title:"Text Effects",options:[{value:"typewriter",label:"Typewriter"},{value:"glitch",label:"Glitch"},{value:"binary-scroll",label:"Binary Scroll"}]}]},title_effects:{type:"multi-select",label:"Title Effects",icon:"fas fa-star",categories:[{title:"Sparkles",options:[{value:"rainbow-sparkle",label:"Rainbow sparkle"},{value:"black-sparkle",label:"Black sparkle"},{value:"blue-sparkle",label:"Blue sparkle"},{value:"green-sparkle",label:"Green sparkle"},{value:"pink-sparkle",label:"Pink sparkle"},{value:"red-sparkle",label:"Red sparkle"},{value:"white-sparkle",label:"White sparkle"},{value:"yellow-sparkle",label:"Yellow sparkle"}]},{title:"Text Effects",options:[{value:"typewriter",label:"Typewriter"},{value:"glitch",label:"Glitch"},{value:"binary-scroll",label:"Binary Scroll"}]}]},clickto_enter:{type:"checkbox",label:"Click To Enter"},clickstyle:{type:"dropdown",label:"Click To Enter Style",options:[{value:"1",label:"Default"},{value:"2",label:"Stroke Text"},{value:"3",label:"Gradient"},{value:"4",label:"Gradient Animated"},{value:"5",label:"Rainbow Animated"},{value:"6",label:"Binary"},{value:"7",label:"Strike-Through"}],conditional:{field:"clickto_enter",value:!0}},clickto_enter_text:{type:"text",label:"Click To Enter Text",placeholder:"Enter Text To Show On Click Page (e.g., Click Me To Enter)",conditional:{field:"clickto_enter",value:!0}},clickto_enter_color:{type:"color",label:"Click To Enter Text Color",conditional:{field:"clickto_enter",value:!0}},clickto_enter_hover_color:{type:"color",label:"Click To Enter Text Hover Color",conditional:{field:"clickto_enter",value:!0}},clickto_enter_background_color:{type:"color",label:"Click To Enter Background Color",conditional:{field:"clickto_enter",value:!0}},clickto_enter_background_opacity:{type:"range",label:"Click To Enter Background Color Opacity",conditional:{field:"clickto_enter",value:!0}},clickto_enter_grad_one:{type:"color",label:"Click To Enter Gradient Color 1",conditional:{field:"clickstyle",operator:"in",value:["4","5"]}},clickto_enter_grad_two:{type:"color",label:"Click To Enter Gradient Color 2",conditional:{field:"clickstyle",operator:"in",value:["4","5"]}},clickto_enter_grad_three:{type:"color",label:"Click To Enter Gradient Color 3",conditional:{field:"clickstyle",operator:"in",value:["4","5"]}},nickname_glow:{type:"checkbox",label:"Username Glow"},username_glow_size:{type:"number",label:"Username Glow Size",conditional:{field:"nickname_glow",value:!0}},username_glow_color:{type:"color",label:"Username Glow Color",conditional:{field:"nickname_glow",value:!0}},nickname_gradient:{type:"checkbox",label:"Username Gradient"},nickname_gradient_one:{type:"color",label:"Username Gradient Color 1",conditional:{field:"nickname_gradient",value:!0}},nickname_gradient_two:{type:"color",label:"Username Gradient Color 2",conditional:{field:"nickname_gradient",value:!0}}},Embed:{web_embed_title:{type:"text",label:"Title",placeholder:"Enter Text For Link Embed Title (e.g., Click Me!)"},web_embed_desc:{type:"text",label:"Description",placeholder:"Enter Text For Link Embed Description (e.g., Last Seen Recently)"},emb_embed_image:{type:"text",label:"Image URL",placeholder:"Enter Text For Link Embed Image (e.g., https://alo.ne/file/example)"}},Config:{}},newusername:"",createBiousername:"",links:[],user:null,error:"",linkForm:!1,selectedPlatform:"",existingData:"",isModalVisible:!1,openDropdowns:{}}},computed:{..._e("user",["accessToken","username","id"]),generatedUrl(){return`/${this.form.username}`},currentPlatform(){return this.selectedPlatform},anyEffectEnabled(){return this.effects.some(o=>o.enabled)},selectedNicknameEffects(){return this.nicknameEffects.filter(o=>o.selected).map(o=>o.name)},selectedDescEffects(){return this.descEffects.filter(o=>o.selected).map(o=>o.name)},selectedTitleEffects(){return this.titleEffects.filter(o=>o.selected).map(o=>o.name)},notifications(){return this.$store.getters["user/allNotifications"]}},created(){Object.keys(this.fieldMap).forEach(o=>{Object.keys(this.fieldMap[o]).forEach(e=>{this.fieldMap[o][e].type==="dropdown"&&(this.openDropdowns[e]=!1)})})},methods:{openShareModal(){this.isShareModalOpen=!0},closeShareModal(){this.isShareModalOpen=!1},toggleDropdown(o){console.log("Toggle dropdown called for:",o),console.log("Current openDropdowns state:",this.openDropdowns),Object.keys(this.openDropdowns).forEach(e=>{e!==o&&(this.openDropdowns[e]=!1)}),this.openDropdowns[o]=!this.openDropdowns[o],console.log("After toggle:",this.openDropdowns)},isFieldVisible(o){return o.conditional?typeof o.conditional=="function"?o.conditional(this.form):(Array.isArray(o.conditional)?o.conditional:[o.conditional]).every(t=>{const{field:f,value:s,operator:l="==="}=t,n=this.form[f];switch(l){case"===":case"==":return n===s;case"!==":case"!=":return n!==s;case"not_empty":return n&&n!=="";case"empty":return!n||n==="";case"in":return Array.isArray(s)&&s.includes(n);case"not_in":return Array.isArray(s)&&!s.includes(n);default:return n===s}}):!0},selectOption(o,e,t){const f=t.value_type==="number"?Number(e.value):e.value;this.form[o]=f,this.openDropdowns[o]=!1},getSelectedLabel(o,e){const t=this.form[o],f=e.options.find(s=>(e.value_type==="number"?Number(s.value):s.value)===t);return f?f.label:"Select an option"},getSelectedEffectsLabel(o){const e=this.fieldMap.Effects[o];if(!e||!e.categories)return"none";let t=this.form[o];if(typeof t=="string"&&(t=t.split(",")),!Array.isArray(t)||t.length===0)return"none";const f=e.categories.flatMap(l=>l.options);return t.map(l=>{const n=f.find(a=>a.value===l);return n?n.label:l}).join(", ")},isEffectSelected(o,e){return this.form[o]||(this.form[o]=[]),this.form[o].includes(e)},toggleEffect(o,e){Array.isArray(this.form[o])||(this.form[o]=[]);const t=this.form[o].indexOf(e);t>-1?this.form[o].splice(t,1):this.form[o].push(e)},isSelected(o,e,t){const f=this.form[o],s=t.value_type==="number"?Number(e.value):e.value;return f===s},handleClickOutside(o){const e=document.querySelectorAll(".relative");let t=!1;e.forEach(f=>{f.contains(o.target)&&(t=!0)}),t||Object.keys(this.openDropdowns).forEach(f=>{this.openDropdowns[f]=!1})},scrollTabs(o){const e=this.$refs.tabsRef;if(e){const f=e.scrollLeft+(o==="left"?-200:200);e.scrollTo({left:f,behavior:"smooth"})}},formatLabel(o){return o.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())},removeNotification(o){this.$store.dispatch("user/removeNotification",o)},saveFormData(){const o=["newusername","ownerId","username","premium","lifetime","profile_visits","head_title_name","title","nickname","description","createBiousername"],e=Object.keys(this.form).reduce((s,l)=>(o.includes(l)||(s[l]=this.form[l]),s),{}),t=new Blob([JSON.stringify(e)],{type:"application/json"}),f=document.createElement("a");f.href=URL.createObjectURL(t),f.download=`config-${this.username}.json`,f.click(),this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Settings have been saved to a JSON file!",type:"success"})},handleFileImport(o){const e=o.target.files[0];if(!e)return;const t=new FileReader;t.onload=f=>{try{const s=JSON.parse(f.target.result);for(const l in s)this.form.hasOwnProperty(l)&&(this.form[l]=s[l]);this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Settings have been imported from the file.",type:"success"})}catch(s){console.error("Error reading JSON file: ",s),this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Invalid data format in the file",type:"error"})}},t.readAsText(e)},openModal(o){this.selectedPlatform=o,this.platformToFieldMap[o.toLowerCase()],this.isModalVisible=!0},handleSave(o,e){if(!e){console.error("No platform found");return}const t=this.platformToFieldMap[e.toLowerCase()];if(!o){this.form[t]="";return}if(t){const s={custom:l=>`https://${l}`,snapchat:l=>`https://snapchat.com/add/${l}`,youtube:l=>`https://youtube.com/${l}`,discord:l=>`https://discord.com/users/${l}`,"discord server":l=>`https://discord.gg/${l}`,spotify:l=>`https://open.spotify.com/${l}`,instagram:l=>`https://instagram.com/${l}`,twitter:l=>`https://x.com/${l}`,tiktok:l=>`https://tiktok.com/${l}`,telegram:l=>`https://t.me/${l}`,soundcloud:l=>`https://soundcloud.com/${l}`,paypal:l=>`https://paypal.me/${l}`,github:l=>`https://github.com/${l}`,cashapp:l=>`https://cash.app/$${l}`,gitlab:l=>`https://gitlab.com/${l}`,twitch:l=>`https://twitch.tv/${l}`,kick:l=>`https://kick.com/${l}`,reddit:l=>`https://reddit.com/${l}`,linkedin:l=>`https://linkedin.com/${l}`,pinterest:l=>`https://pinterest.com/${l}`,facebook:l=>`https://facebook.com/${l}`,ogu:l=>`https://oguser.com/${l}`,btc:l=>`${l}`,eth:l=>`${l}`,ltc:l=>`${l}`,xmr:l=>`${l}`,mail:l=>`mailto:${l}`,roblox:l=>`https://roblox.com/${l}`,namemc:l=>`https://namemc.com/${l}`,steam:l=>`https://steamcommunity.com/id/${l}`}[e.toLowerCase()];if(s){const l=s(o);this.userAddLink(l,e)}else console.error("Unsupported platform:",e)}else this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"An issue occured adding your link.",type:"error"})},toggleLinkForm(){this.linkForm=!this.linkForm,this.form={}},toggleEffectDropdown(o){this.dropdownVisible[o]=!this.dropdownVisible[o]},async patchUpdateSettings(){try{(this.form.background_url_video||this.form.audio)&&this.form.clickto_enter!=!0&&this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-triangle",title:"Warning | Audio/Video",message:"Enable [click to enter] in the effects tab for audio/video",type:"warning"});const o={nickname:this.form.nickname,title:this.form.title,description:this.form.description,audio:this.form.audio,background_effects:this.form.background_effects,background_dot_effects_color:this.form.background_dot_effects_color,background_line_effects_color:this.form.background_line_effects_color,background_effects_color:this.form.background_effects_color,background_effects_opacity:Number(this.form.background_effects_opacity),background_effects_blur:this.form.background_effects_blur,background_effects_contrast:Number(this.form.background_effects_contrast),background_effects_hue:Number(this.form.background_effects_hue),background_url_video:this.form.background_url_video,background_url_image:this.form.background_url_image,profile_text_color:this.form.profile_text_color,profile_sep_color:this.form.profile_sep_color,profile_avatar:this.form.profile_avatar,profile_avatar_border_width:this.form.profile_avatar_border_width,profile_avatar_border_color:this.form.profile_avatar_border_color,profile_background:this.form.profile_background,profile_background_color:this.form.profile_background_color,profile_background_opacity:Number(this.form.profile_background_opacity),profile_border_width:Number(this.form.profile_border_width),profile_border_color:this.form.profile_border_color,profile_border_animation:this.form.profile_border_animation,profile_border_animation_color_one:this.form.profile_border_animation_color_one,profile_border_animation_color_two:this.form.profile_border_animation_color_two,profile_shadow_size:this.form.profile_shadow_size,profile_shadow_color:this.form.profile_shadow_color,profile_opacity:Number(this.form.profile_opacity),profile_blur:Number(this.form.profile_blur),profile_effects:this.form.profile_effects,profile_effects_opacity:Number(this.form.profile_effects_opacity),profile_effects_blur:Number(this.form.profile_effects_blur),profile_gradient_type:Number(this.form.profile_gradient_type),profile_gradient_one:this.form.profile_gradient_one,profile_gradient_two:this.form.profile_gradient_two,profile_view_count:this.form.view_count,profile_view_color:this.form.view_color,socials_border:this.form.socials_border,socials_border_width:Number(this.form.socials_border_width),socials_border_radius:Number(this.form.socials_border_radius),socials_border_color:this.form.socials_border_color,socials_text_color:this.form.socials_text_color,socials_icon_color:this.form.socials_icon_color,socials_background_color:this.form.socials_background_color,socials_background_color_opacity:Number(this.form.socials_background_color_opacity),socials_opacity:Number(this.form.socials_opacity),socials_hover_opacity:Number(this.form.socials_hover_opacity),socials_glow:this.form.socials_glow,socials_shadow_size:Number(this.form.socials_shadow_size),socials_shadow_color:this.form.socials_shadow_color,socials_hover_shadow_size:Number(this.form.socials_hover_shadow_size),socials_hover_shadow_color:this.form.socials_hover_shadow_color,socials_hover_color:this.form.socials_hover_color,socials_hover_icon_color:this.form.socials_hover_icon_color,socials_hover_background_color:this.form.socials_hover_background_color,socials_hover_background_color_opacity:Number(this.form.socials_hover_background_color_opacity),socials_hover_border_color:this.form.socials_hover_border_color,socials_hover_border_width:Number(this.form.socials_hover_border_width),socials_hover_border_radius:Number(this.form.socials_hover_border_radius),socials_animation:Number(this.form.socials_animation),badges:this.form.badges,badge_border:this.form.badge_border,badge_border_width:Number(this.form.badge_border_width),badge_border_radius:Number(this.form.badge_border_radius),badge_border_color:this.form.badge_border_color,badge_text_color:this.form.badge_text_color,badge_icon_color:this.form.badge_icon_color,badge_background_color:this.form.badge_background_color,badge_background_color_opacity:Number(this.form.badge_background_color_opacity),badge_opacity:Number(this.form.badge_opacity),badge_glow:this.form.badge_glow,badge_shadow_size:Number(this.form.badge_shadow_size),badge_shadow_color:this.form.badge_shadow_color,badge_hover_shadow_size:Number(this.form.badge_hover_shadow_size),badge_hover_shadow_color:this.form.badge_hover_shadow_color,badge_hover_size:Number(this.form.badge_hover_size),badge_hover_color:this.form.badge_hover_color,badge_hover_icon_color:this.form.badge_hover_icon_color,badge_hover_background_color:this.form.badge_hover_background_color,badge_hover_background_color_opacity:Number(this.form.badge_hover_background_color_opacity),badge_hover_border_color:this.form.badge_hover_border_color,badge_hover_border_width:Number(this.form.badge_hover_border_width),badge_hover_border_radius:Number(this.form.badge_hover_border_radius),profile_layout:Number(this.form.profile_layout),layout1_seperator:this.form.layout1_seperator||!1,layout1_center:this.form.layout1_center||!1,layout1_icons_only:!0,link_animation_type:this.form.link_animation_type,badge_animation_type:this.form.badge_animation_type,text_animation_type:this.form.text_animation_type,nickname_effects:Array.isArray(this.form.nickname_effects)?this.form.nickname_effects.join(","):"",desc_effects:Array.isArray(this.form.desc_effects)?this.form.desc_effects.join(","):"",title_effects:Array.isArray(this.form.title_effects)?this.form.title_effects.join(","):"",username_glow_size:Number(this.form.username_glow_size),username_glow_color:this.form.username_glow_color,nickname_gradient_style:this.form.nickname_gradient_style,nickname_gradient_one:this.form.nickname_gradient_one,nickname_gradient_two:this.form.nickname_gradient_two,nickname_glow:this.form.nickname_glow||!1,nickname_gradient:this.form.nickname_gradient||!1,profile_border:this.form.profile_border||!1,profile_gradient:this.form.profile_gradient||!1,head_title_anim:this.form.head_title_anim||!1,clickto_enter:this.form.clickto_enter||!1,profile_avatar_border:this.form.profile_avatar_border||!1,socials_hover_enable:this.form.socials_hover_enable,card_tilt:this.form.card_tilt||!1,head_title_name:this.form.head_title_name,head_favicon:this.form.head_favicon,clickstyle:Number(this.form.clickstyle),clickto_enter_text:this.form.clickto_enter_text,clickto_enter_hover_color:this.form.clickto_enter_hover_color,clickto_enter_color:this.form.clickto_enter_color,clickto_enter_background_color:this.form.clickto_enter_background_color,clickto_enter_grad_one:this.form.clickto_enter_grad_one,clickto_enter_grad_two:this.form.clickto_enter_grad_two,clickto_enter_grad_three:this.form.clickto_enter_grad_three,clickto_enter_background_opacity:Number(this.form.clickto_enter_background_opacity),audio_visualizer:this.form.audio_visualizer,web_embed_title:this.form.web_embed_title,web_embed_desc:this.form.web_embed_desc,emb_embed_image:this.form.emb_embed_image},e=await ke(o);if(e.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.error,type:"error"});return}this.user=e.data,this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Settings have been updated",type:"success"})}catch(o){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.message,type:"error"});return}},sanitizeInput(o){return o.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/&/g,"&amp;")},async createBiolinkUser(){try{const o=await ve(this.createBiousername);if(o.error==="duplicated key not allowed"){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Username is taken",type:"error"});return}if(o.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.error,type:"error"});return}this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Username changed! Refreshing the page.",type:"success"}),setTimeout(()=>{location.reload()},150)}catch(o){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.message,type:"error"});return}},async postGetUsername(){try{const o=await ge();if(o.error){this.createAccount=!0,this.Loading=!1;return}this.username=o.username,this.getSettings(o.username)}catch(o){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.message,type:"error"});return}},async postSetUsername(){const o=["/","dash","tos","privacy","store","bio","mail","file","invites","security","login","register","@:username",".well-known/discord",".well-known","sign-in","refresh-token","sign-up","change-password","2fa","recovery-codes","membership","email","biolink","orders/active","orders/paid","chat","files","admin","sharex","guinvites"];try{if(this.newusername===""||this.newusername===null||!this.newusername){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"Username box empty, try again",type:"error"});return}if(o.some(f=>this.newusername.includes(f))){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:"This username is not allowed.",type:"error"});return}const e={username:this.newusername.toLowerCase()},t=await me(e);if(t.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:t.error,type:"error"});return}this.username=this.newusername.toLowerCase(),this.getSettings(this.newusername.toLowerCase()),this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Username changed to "+this.newusername.toLowerCase(),type:"success"})}catch(e){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.message,type:"error"});return}},async getSettings(o){try{const e=await q(o);if(e.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.error,type:"error"});return}this.form=e.user,this.links=e.links,this.setSelectedEffects(e.user),this.form.audio_visualizer=e.user.audio_visualizer,this.form.view_count=e.user.profile_view_count,this.form.view_color=e.user.profile_view_color,this.form.profile_layout=String(e.user.profile_layout),this.Loading=!1}catch(e){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.message,type:"error"});return}},setSelectedEffects(o){this.nicknameEffects.forEach(e=>{e.selected=o.nickname_effects.includes(e.name)}),this.descEffects.forEach(e=>{e.selected=o.desc_effects.includes(e.name)}),this.titleEffects.forEach(e=>{e.selected=o.title_effects.includes(e.name)})},async userAddLink(o,e){try{const t=await he(o,e);if(t.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:t.error,type:"error"});return}this.userGetLinks(),this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"The link '"+o+"' has been added",type:"success"})}catch(t){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:t.message,type:"error"});return}},async postDeleteLink(o){try{const e=await be(o);if(e.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.error,type:"error"});return}this.userGetLinks(),this.$store.dispatch("user/addNotification",{icon:"fas fa-check-circle",title:"Success",message:"Link has been deleted",type:"success"})}catch(e){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:e.message,type:"error"});return}},async userGetLinks(){try{const o=await q(this.form.username);if(o.error){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.error,type:"error"});return}this.links=o.links}catch(o){this.$store.dispatch("user/addNotification",{icon:"fas fa-exclamation-circle",title:"Error",message:o.message,type:"error"});return}}},mounted(){this.postGetUsername(),document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},lt=fe({...rt,__name:"BioSettingsView",setup(o){return(e,t)=>{const f=Z("motion");return d(),c(x,null,[r("div",Pe,[e.Loading?(d(),c("div",Fe,[e.error==="user could not be found"?(d(),c("div",He,[r("div",We,[r("div",Ye,[r("p",Je,g(e.error),1)])])])):b("",!0)])):b("",!0),e.createAccount?h((d(),c("div",Xe,[r("div",qe,[t[13]||(t[13]=r("h2",{class:"text-2xl font-bold text-white text-center"},"Create Account",-1)),r("div",Ze,[t[12]||(t[12]=r("label",{class:"text-sm font-medium text-zinc-400"},[D(" Biolink Username "),r("span",{class:"text-red-500"},"*")],-1)),r("div",{class:y(["flex items-center gap-2 bg-zinc-800/50 border rounded-lg px-3 py-2",e.isUsernameInvalid?"border-red-500":"border-zinc-700"])},[t[11]||(t[11]=r("span",{class:"text-zinc-500"},"alo.ne/",-1)),h(r("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.createBiousername=s),type:"text",placeholder:"username",class:"flex-1 bg-transparent text-white text-sm focus:outline-none",onInput:t[1]||(t[1]=(...s)=>e.validateUsername&&e.validateUsername(...s))},null,544),[[N,e.createBiousername]])],2)]),r("button",{type:"button",onClick:t[2]||(t[2]=(...s)=>e.createBiolinkUser&&e.createBiolinkUser(...s)),class:"w-full px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",disabled:e.isChecking},g(e.isChecking?"Checking...":"Create User"),9,Qe),e.isChecking?(d(),c("div",Ke," Checking availability... ")):b("",!0)])])),[[f,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600,delay:100}}}]]):b("",!0),e.form.username?h((d(),c("div",eo,[r("div",oo,[t[17]||(t[17]=r("span",null,"Dashboard",-1)),t[18]||(t[18]=r("span",null,"/",-1)),t[19]||(t[19]=r("span",null,"Biolink",-1)),t[20]||(t[20]=r("span",null,">",-1)),r("a",{href:e.generatedUrl,target:"_blank",class:"text-white hover:text-indigo-400 transition-colors"},[(d(),c("svg",ro,[t[14]||(t[14]=r("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},null,-1)),t[15]||(t[15]=r("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},null,-1)),D(" alo.ne/@"+g(e.username||"loading"),1)]))],8,to),r("button",{class:"btn btn-outline-secondary",onClick:t[3]||(t[3]=(...s)=>e.openShareModal&&e.openShareModal(...s))},[...t[16]||(t[16]=[r("i",{class:"fas fa-copy"},null,-1)])])]),r("button",{type:"submit",onClick:t[4]||(t[4]=(...s)=>e.patchUpdateSettings&&e.patchUpdateSettings(...s)),class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"}," Save changes ")])),[[f,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:600,delay:100}}}]]):b("",!0),e.form.username?(d(),c("div",lo,[r("div",ao,[r("div",io,[r("button",{onClick:t[5]||(t[5]=s=>e.scrollTabs("left")),class:"p-1.5 rounded-lg bg-zinc-800/80 text-zinc-400 hover:text-white hover:bg-zinc-800 transition-colors"},[...t[21]||(t[21]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-left w-5 h-5"},[r("path",{d:"m15 18-6-6 6-6"})],-1)])])]),r("div",so,[r("button",{onClick:t[6]||(t[6]=s=>e.scrollTabs("right")),class:"p-1.5 rounded-lg bg-zinc-800/80 text-zinc-400 hover:text-white hover:bg-zinc-800 transition-colors"},[...t[22]||(t[22]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-chevron-right w-5 h-5"},[r("path",{d:"m9 18 6-6-6-6"})],-1)])])]),r("div",no,[(d(!0),c(x,null,$(Object.keys(e.fieldMap),(s,l)=>h((d(),c("button",{key:s,onClick:n=>e.selectedTab=s,class:y(["px-4 py-2 rounded-lg whitespace-nowrap text-sm",e.selectedTab===s?"bg-zinc-800 text-white":"text-zinc-400 hover:text-white hover:bg-zinc-800/50"])},[D(g(e.formatLabel(s)),1)],10,co)),[[f,{initial:{opacity:0,x:-10},enter:{opacity:1,x:0,transition:{delay:l*100}}}]])),128))])],512)])):b("",!0),e.form.username?(d(),c("div",uo,[(d(!0),c(x,null,$(e.fieldMap,(s,l)=>(d(),c("div",{key:l},[e.selectedTab===l?h((d(),c("div",fo,[e.selectedTab==="General"?(d(),c("div",_o,[r("div",po,[t[24]||(t[24]=r("label",{class:"text-sm font-medium text-zinc-400"}," Username (link) ",-1)),r("div",bo,[r("div",ho,[t[23]||(t[23]=r("span",{class:"text-zinc-500"},"alo.ne/@",-1)),h(r("input",{"onUpdate:modelValue":t[7]||(t[7]=n=>e.newusername=n),placeholder:e.form.username,class:"flex-1 bg-transparent text-white text-sm focus:outline-none",type:"text"},null,8,mo),[[N,e.newusername]])]),r("button",{onClick:t[8]||(t[8]=(...n)=>e.postSetUsername&&e.postSetUsername(...n)),class:"w-full sm:w-auto px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors"}," Change ")])])])):b("",!0),e.selectedTab==="Config"?(d(),c("div",go,[t[30]||(t[30]=r("h2",{class:"text-lg font-semibold text-white mb-6"},"IMPORTING OR EXPORTING SETTINGS",-1)),r("div",vo,[r("div",ko,[t[27]||(t[27]=r("h3",{class:"text-sm font-medium text-zinc-400"}," Import settings ",-1)),r("div",yo,[r("div",wo,[r("label",xo,[t[25]||(t[25]=r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-upload w-5 h-5 text-zinc-500"},[r("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r("polyline",{points:"17 8 12 3 7 8"}),r("line",{x1:"12",x2:"12",y1:"3",y2:"15"})],-1)),r("input",{class:"hidden",accept:".json",type:"file",onChange:t[9]||(t[9]=(...n)=>e.handleFileImport&&e.handleFileImport(...n))},null,32),t[26]||(t[26]=r("span",{class:"text-sm text-zinc-400"}," Choose File ",-1))])])])]),r("div",Co,[t[29]||(t[29]=r("h3",{class:"text-sm font-medium text-zinc-400"}," Download your settings ",-1)),r("button",{onClick:t[10]||(t[10]=(...n)=>e.saveFormData&&e.saveFormData(...n)),class:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},[...t[28]||(t[28]=[r("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-download w-5 h-5"},[r("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r("polyline",{points:"7 10 12 15 17 10"}),r("line",{x1:"12",x2:"12",y1:"15",y2:"3"})],-1),r("span",null,"Download",-1)])])])])])):b("",!0),r("div",zo,[r("div",Eo,[(d(!0),c(x,null,$(s,(n,a)=>h((d(),c("div",{key:a,class:"space-y-2"},[n.type!=="checkbox"?(d(),c("label",{key:0,for:a,class:"text-sm font-medium text-zinc-400"},g(n.label),9,$o)):b("",!0),n.type==="dropdown"?(d(),c("div",So,[r("div",Bo,[r("button",{onClick:_=>e.toggleDropdown(a),class:"w-full h-10 pl-3 pr-2 text-white text-sm flex items-center justify-between bg-zinc-800/50 border border-zinc-700 rounded-md hover:border-zinc-600 focus:outline-none"},[r("span",null,g(e.getSelectedLabel(a,n)),1),(d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:y(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":e.openDropdowns[a]}])},[...t[31]||(t[31]=[r("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))],8,To),e.openDropdowns[a]?h((d(),c("div",No,[(d(!0),c(x,null,$(n.options,(_,k)=>(d(),c("div",{key:_.value},[h((d(),c("button",{onClick:T=>e.selectOption(a,_,n),class:y(["w-full px-3 py-2 text-left text-sm text-white hover:bg-zinc-800 transition-colors",{"bg-zinc-700":e.isSelected(a,_,n)}])},[D(g(_.label),1)],10,Uo)),[[f,{initial:{opacity:0,x:-10},enter:{opacity:1,x:0,transition:{delay:k*30}}}]])]))),128))])),[[f,{initial:{opacity:0,y:-10},enter:{opacity:1,y:0,transition:{duration:300}}}]]):b("",!0)])])):b("",!0),n.type==="multi-select"?(d(),c("div",Do,[r("div",Mo,[r("button",{onClick:_=>e.toggleEffectDropdown(a),class:"w-full h-10 pl-3 pr-2 text-white text-sm flex items-center justify-between bg-zinc-800/50 border border-zinc-700 rounded-md hover:border-zinc-600 focus:outline-none focus:ring-1 focus:ring-purple-700/50"},[r("span",Vo,[n.icon?(d(),c("i",{key:0,class:y(n.icon)},null,2)):b("",!0),D(" "+g(e.getSelectedEffectsLabel(a)),1)]),(d(),c("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:y(["w-4 h-4 text-zinc-400",{"rotate-180":e.dropdownVisible[a]}])},[...t[32]||(t[32]=[r("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))],8,Lo),h(r("div",Ao,[r("div",Oo,[(d(!0),c(x,null,$(n.categories,_=>(d(),c("div",{key:_.title,class:"space-y-4"},[r("h5",Io,g(_.title),1),t[33]||(t[33]=r("hr",{class:"border-zinc-600"},null,-1)),r("div",Go,[(d(!0),c(x,null,$(_.options,k=>(d(),c("label",{key:k.value,class:"flex items-center space-x-2 cursor-pointer"},[r("input",{type:"checkbox",checked:e.isEffectSelected(a,k.value),onChange:T=>e.toggleEffect(a,k.value),class:"w-4 h-4 text-purple-600 bg-zinc-700 border-zinc-600 rounded focus:ring-purple-500"},null,40,Ro),r("span",jo,g(k.label),1)]))),128))])]))),128))])],512),[[X,e.dropdownVisible[a]]])])])):b("",!0),n.type==="text"?(d(),c("div",Po,[h(r("input",{type:"text","onUpdate:modelValue":_=>e.form[a]=_,placeholder:n.placeholder||e.placeholder,id:a,name:a,class:"w-full bg-zinc-800/50 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none"},null,8,Fo),[[N,e.form[a]]])])):b("",!0),n.type==="number"?(d(),c("div",Ho,[h(r("input",{type:"number","onUpdate:modelValue":_=>e.form[a]=_,id:a,name:a,class:"w-full bg-zinc-800/50 border border-zinc-700 rounded-lg px-3 py-2 text-white text-sm focus:outline-none"},null,8,Wo),[[N,e.form[a]]])])):b("",!0),n.type==="range"?(d(),c("div",Yo,[r("div",Jo,[h(r("input",{type:"range","onUpdate:modelValue":_=>e.form[a]=_,id:a,name:a,style:U({background:`linear-gradient(to right, rgb(79, 70, 229) 0%, rgb(79, 70, 229) ${e.form[a]}%, rgb(39, 39, 42) ${e.form[a]}%, rgb(39, 39, 42) 100%)`}),class:"w-full h-2 bg-zinc-800 rounded-full appearance-none [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:cursor-pointer"},null,12,Xo),[[N,e.form[a]]]),r("span",qo,g(e.form[a])+"%",1)])])):b("",!0),n.type==="checkbox"?(d(),c("div",Zo,[r("div",Qo,[r("span",Ko,g(n.label),1),r("label",{for:a,class:"relative inline-flex items-center cursor-pointer"},[h(r("input",{id:a,type:"checkbox",name:a,class:"sr-only","onUpdate:modelValue":_=>e.form[a]=_},null,8,ot),[[pe,e.form[a]]]),t[34]||(t[34]=r("div",{class:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors bg-zinc-700"},[r("div",{class:"inline-block w-4 h-4 transform bg-white rounded-full transition-transform translate-x-1"})],-1))],8,et)])])):b("",!0),n.type==="color"?(d(),c("div",tt,[J($e,{modelValue:e.form[a],"onUpdate:modelValue":_=>e.form[a]=_,id:a,name:a},null,8,["modelValue","onUpdate:modelValue","id","name"])])):b("",!0)])),[[X,e.isFieldVisible(n)]])),128))])])])),[[f,{initial:{opacity:0,y:20},enter:{opacity:1,y:0,transition:{duration:400}}}]]):b("",!0)]))),128))])):b("",!0)]),J(Q,{isOpen:e.isShareModalOpen,username:e.form.username,domains:e.domains,onClose:e.closeShareModal},null,8,["isOpen","username","domains","onClose"])],64)}}}),st=V(lt,[["__scopeId","data-v-1cf347fd"]]);export{st as default};
